function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"00vf":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardmoduleModule",(function(){return ft}));var o,i,r,a,s,c=n("ofXK"),l=n("tyNb"),d=n("fXoL"),g=((o=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"canActivate",value:function(e,t){return!!localStorage.getItem("email")||(alert("please login first"),this.router.navigate(["/login"]),!1)}}]),e}()).\u0275fac=function(e){return new(e||o)(d.Tb(l.e))},o.\u0275prov=d.Gb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),b=n("XNiG"),p=n("1G5W"),u=n("AytR"),m=n("tk/3"),h=((i=function(){function e(t,n){_classCallCheck(this,e),this.router=t,this.httpc=n,this.httpURL=u.a.URL,this.unsubscriber$=new b.a}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goToMessageArea",value:function(){var e=this,t=document.getElementsByClassName("show-spinner")[0];t.style.display="block",this.httpc.get(this.httpURL+"room-by-code/XyzaBc1Kzsxsw3").pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(n){1==n.status&&(n.data.random=1,e.router.navigate(["/dashboardmodule/message-area"],{queryParams:n.data}),t.style.display="none")}),(function(e){console.log(e),t.style.display="none"}))}},{key:"goToCreateRoom",value:function(){var e=document.getElementsByClassName("show-spinner")[0];e.style.display="block",this.router.navigate(["/dashboardmodule/create-room"]),e.style.display="none"}},{key:"goToSearchRoom",value:function(){var e=document.getElementsByClassName("show-spinner")[0];e.style.display="block",this.router.navigate(["/dashboardmodule/search-room"]),e.style.display="none"}},{key:"ngOnDestroy",value:function(){this.unsubscriber$.next(),this.unsubscriber$.complete()}}]),e}()).\u0275fac=function(e){return new(e||i)(d.Kb(l.e),d.Kb(m.a))},i.\u0275cmp=d.Eb({type:i,selectors:[["app-chat"]],decls:46,vars:0,consts:[[1,"container-lg"],[1,"row"],[1,"col-12","p-5","pt-md-2","category-container"],[1,"text-center","mb-1","mb-md-2"],[1,"part"],[1,"join-group","pt-2","bg-dark",3,"click"],[1,"img"],["src","assets\\icons\\discussion.png","alt",""],[1,"headers"],[1,"arrow"],[1,"fa","fa-arrow-right"],[1,"text"],[1,""],[1,"p-mobile"],[1,"join-group","make-room","pt-2","bg-dark",3,"click"],["src","assets\\icons\\stories.png","alt",""],[1,"bg-secondary"],[1,"join-group","enter-room","pt-2","bg-dark",3,"click"],["src","assets\\icons\\search-engine.png","alt",""]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"h2",3),d.Pb(4,"small"),d.tc(5,"Chat options"),d.Ob(),d.Ob(),d.Pb(6,"div",4),d.Pb(7,"div",5),d.Xb("click",(function(){return t.goToMessageArea()})),d.Pb(8,"div",6),d.Lb(9,"img",7),d.Pb(10,"div",8),d.Pb(11,"h3"),d.tc(12,"Join Group"),d.Ob(),d.Pb(13,"div",9),d.Lb(14,"i",10),d.Ob(),d.Ob(),d.Ob(),d.Pb(15,"div",11),d.Pb(16,"p",12),d.tc(17,"Join Group "),d.Ob(),d.Pb(18,"p",13),d.tc(19,"Join a random Group"),d.Ob(),d.Ob(),d.Ob(),d.Pb(20,"div",14),d.Xb("click",(function(){return t.goToCreateRoom()})),d.Pb(21,"div",6),d.Lb(22,"img",15),d.Pb(23,"div",8),d.Pb(24,"h3"),d.tc(25,"Create Room"),d.Ob(),d.Pb(26,"div",9),d.Lb(27,"i",10),d.Ob(),d.Ob(),d.Ob(),d.Pb(28,"div",11),d.Pb(29,"p",16),d.tc(30,"Create Room "),d.Ob(),d.Pb(31,"p",13),d.tc(32,"Create your own room "),d.Ob(),d.Ob(),d.Ob(),d.Pb(33,"div",17),d.Xb("click",(function(){return t.goToSearchRoom()})),d.Pb(34,"div",6),d.Lb(35,"img",18),d.Pb(36,"div",8),d.Pb(37,"h3"),d.tc(38,"Search Room"),d.Ob(),d.Pb(39,"div",9),d.Lb(40,"i",10),d.Ob(),d.Ob(),d.Ob(),d.Pb(41,"div",11),d.Pb(42,"p",16),d.tc(43,"Search Room"),d.Ob(),d.Pb(44,"p",13),d.tc(45," Search rooms by id "),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob())},styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.container-lg[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{height:100%;position:relative}h2[_ngcontent-%COMP%]{font-weight:500}.category-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:100%}.join-group[_ngcontent-%COMP%]{width:80%;margin:15px auto;cursor:pointer;border-radius:10px}.join-group[_ngcontent-%COMP%]:hover{transition:.3s;transform:scale(1.05)}.join-group[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;display:none}.join-group[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{letter-spacing:3px;text-shadow:3px 3px 4px #000;transition:.5s;text-align:center}.join-group[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{color:#fff;font-size:30px;display:none}.img[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center}img[_ngcontent-%COMP%]{display:inline-block;width:120px;height:120px;margin:10px 5px}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block;height:100%!important;color:#fff;font-size:18px;letter-spacing:6px;text-shadow:2px 2px 4px #000;padding:5px 10px;text-align:center;margin:0}.join-group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{transition:1.2s;background:green;border-bottom-left-radius:30px;border-bottom-right-radius:30px}h3[_ngcontent-%COMP%]{overflow:hidden;color:#fff}.part[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap;padding-bottom:60px}.part[_ngcontent-%COMP%]   .join-group[_ngcontent-%COMP%]{width:25%;height:auto;border-radius:30px}.join-group[_ngcontent-%COMP%]{position:relative}.join-group[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;z-index:888;top:107%;width:60%;left:50%;border-radius:50%;transform:translateX(-50%);height:20px;background:rgba(0,0,0,.09)}.join-group[_ngcontent-%COMP%]:hover:after{width:40%;top:113%;transition:.3s;background:rgba(0,128,0,.08);background:rgba(0,0,0,.09)}.make-room[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:peru!important}.enter-room[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#8a2be2!important}.text[_ngcontent-%COMP%]   .p-mobile[_ngcontent-%COMP%]{display:none}@media screen and (max-width:900px){.category-container[_ngcontent-%COMP%]{width:100%}.part[_ngcontent-%COMP%]{flex-direction:column}.part[_ngcontent-%COMP%]   .join-group[_ngcontent-%COMP%]{width:80%}.join-group[_ngcontent-%COMP%]:after{display:none}.img[_ngcontent-%COMP%]{justify-content:space-evenly;align-items:center}.img[_ngcontent-%COMP%], .join-group[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{display:flex}}@media screen and (max-width:600px){.container-lg[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{padding:0}.part[_ngcontent-%COMP%]{width:100%;padding:40px 0 20px;margin:0 0 30px}h3[_ngcontent-%COMP%]{font-size:20px}.part[_ngcontent-%COMP%]   .join-group[_ngcontent-%COMP%]{width:100%;border-radius:unset;margin-bottom:5px}.join-group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;letter-spacing:0;border-radius:0;font-size:17px}.text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.join-group[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .p-mobile[_ngcontent-%COMP%]{letter-spacing:5px;display:block}}']}),i),f=n("HDdC"),P=n("7JkF"),O=((r=function(){function e(t){var n=this;_classCallCheck(this,e),this.clientIO=t,this.getMessages=function(){return new f.a((function(e){n.clientIO.on("new-message",(function(t){e.next(t)}))}))},this.getMembers=function(){return new f.a((function(e){n.clientIO.on("new-member",(function(t){e.next(t)}))}))},this.removed=function(){return new f.a((function(e){n.clientIO.on("banned",(function(t){e.next(t)}))}))},this.sendMessage=function(e){n.clientIO.emit("create-message",e)},this.privateConnect=function(e){return new f.a((function(t){n.clientIO.emit("join-private",{senderId:localStorage.getItem("userUniqueId"),receiverId:e}),n.clientIO.on("connected",(function(e){t.next(e)}))}))},this.messageNotif=function(){return new f.a((function(e){n.clientIO.on("message-notif",(function(t){e.next(t)}))}))},this.seen=function(){n.clientIO.emit("seen")}}return _createClass(e,[{key:"openConnection",value:function(){this.clientIO.connect()}},{key:"getOnline",value:function(){this.clientIO.emit("online",{userUniqueId:localStorage.getItem("userUniqueId")}),this.clientIO.on("successfull",(function(){console.log("isOnline")}))}},{key:"join_room",value:function(e,t,n){this.clientIO.emit("join-room",{room_name:e,memberName:t,roomPassword:n,email:localStorage.getItem("email")}),this.clientIO.on("uniqueIdReceive",(function(e){localStorage.setItem("uniqueChatId",e.unique_id),e.hasOwnProperty("setAdmin")&&1==e.setAdmin&&localStorage.setItem(e.group,e.unique_id)}))}},{key:"removeMember",value:function(e){this.clientIO.emit("member_remove_req",e)}},{key:"rejected",value:function(){var e=this;return f.a.create((function(t){e.clientIO.on("rejected",(function(e){t.next(e)}))}))}},{key:"closeSocket",value:function(){this.clientIO.disconnect()}},{key:"closeChat",value:function(){this.clientIO.emit("disconnectChat")}}]),e}()).\u0275fac=function(e){return new(e||r)(d.Tb(P.a))},r.\u0275prov=d.Gb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),x=n("Ebwu"),v=n("R7Hv"),C=n("Jho9"),_=((s=function(){function e(t,n,o,i,r){_classCallCheck(this,e),this.route=t,this.ds=n,this.cs=o,this.ss=i,this.swPush=r,this.unsubscriber$=new b.a,this.newMessage=!1,this.colorselected=["black","black","black"],this.VAPID_PUBLIC_KEY=u.a.VAPID_PUBLIC_KEY,this.active=1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.subscribeToNotifications(),this.cs.messageNotif().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){e.newMessage=!0,e.ss.showNotif(t)})),this.ss.returnMIO().subscribe((function(t){t.seen&&(e.newMessage=!1)}))}},{key:"changecolor",value:function(e){for(var t=0;t<this.colorselected.length;t++)this.colorselected[t]="black";this.colorselected[e]="green"}},{key:"ngOnDestroy",value:function(){this.unsubscriber$.next(),this.unsubscriber$.complete()}},{key:"logout",value:function(){confirm("Do you really want to logout?")&&(localStorage.removeItem("email"),this.route.navigate([""]))}},{key:"subscribeToNotifications",value:function(){var e=this;this.swPush.requestSubscription({serverPublicKey:this.VAPID_PUBLIC_KEY}).then((function(t){return e.ds.addPushSubscriber(t).subscribe((function(e){e.status&&alert(e.message)}))})).catch((function(e){return console.error("Could not subscribe to notifications",e)}))}}]),e}()).\u0275fac=function(e){return new(e||s)(d.Kb(l.e),d.Kb(v.a),d.Kb(O),d.Kb(x.a),d.Kb(C.b))},s.\u0275cmp=d.Eb({type:s,selectors:[["app-chatzonesidenav"]],decls:25,vars:2,consts:[[1,"container-fluid","sidenavcontainer"],[1,"row"],[1,"col-12","sidenav"],[1,"navigaton-links-container"],["routerLink","profile",1,"flex-item",3,"click"],["src","assets\\icons\\account.png","alt",""],[1,"show-hide-text"],["routerLink","chat",1,"flex-item",3,"click"],["src","assets\\icons\\chat-bubble.png","alt",""],["routerLink","manage-requests",1,"flex-item",3,"click"],["src","assets\\icons\\add-user.png","alt",""],["routerLink","manage-connections",1,"flex-item","messages",3,"click"],["src","assets\\icons\\users.png","alt",""],[1,"message-indicator"],[1,"flex-item",3,"click"],["src","assets\\icons\\logout (1).png","alt",""]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"ul",3),d.Pb(4,"li",4),d.Xb("click",(function(){return t.changecolor(0)})),d.Lb(5,"img",5),d.Pb(6,"p",6),d.tc(7,"Profile"),d.Ob(),d.Ob(),d.Pb(8,"li",7),d.Xb("click",(function(){return t.changecolor(1)})),d.Lb(9,"img",8),d.Pb(10,"p",6),d.tc(11,"Chat"),d.Ob(),d.Ob(),d.Pb(12,"li",9),d.Xb("click",(function(){return t.changecolor(1)})),d.Lb(13,"img",10),d.Pb(14,"p",6),d.tc(15,"Requests"),d.Ob(),d.Ob(),d.Pb(16,"li",11),d.Xb("click",(function(){return t.changecolor(1)})),d.Lb(17,"img",12),d.Lb(18,"span",13),d.Pb(19,"p",6),d.tc(20,"Connections"),d.Ob(),d.Ob(),d.Pb(21,"li",14),d.Xb("click",(function(){return t.logout()})),d.Lb(22,"img",15),d.Pb(23,"p",6),d.tc(24,"Logout"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.zb(18),d.Cb("new-message",1==t.newMessage))},directives:[l.f],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;color:#000}.sidenavcontainer[_ngcontent-%COMP%]{padding:10px 0;display:inline-block;position:fixed;z-index:9999;bottom:0;background:#f5f5f5;color:#fff}.sidenav[_ngcontent-%COMP%]   .navigaton-links-container[_ngcontent-%COMP%]{list-style:none;display:flex;flex-direction:row;justify-content:space-evenly}.sidenavcontainer[_ngcontent-%COMP%]   .sidenav[_ngcontent-%COMP%]   .navigaton-links-container[_ngcontent-%COMP%]   .flex-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:none}.flex-item[_ngcontent-%COMP%]:visited{border:none}img[_ngcontent-%COMP%]{width:25px;height:25px}.messages[_ngcontent-%COMP%]{position:relative}.messages[_ngcontent-%COMP%]   .message-indicator[_ngcontent-%COMP%]{position:absolute;top:6px;right:6px;width:10px;height:10px;border-radius:50%;display:block}.messages[_ngcontent-%COMP%]   .new-message[_ngcontent-%COMP%]{background:red}@media screen and (min-width:650px){.sidenavcontainer[_ngcontent-%COMP%]{position:fixed;top:45px;height:100%;width:8vh;bottom:unset}.sidenavcontainer[_ngcontent-%COMP%]:hover{width:23vh;transition:.5s;overflow:hidden}.sidenav[_ngcontent-%COMP%]   .navigaton-links-container[_ngcontent-%COMP%]{list-style-type:none;display:flex;flex-direction:column;justify-content:space-evenly}.flex-item[_ngcontent-%COMP%]{font-size:20px;display:flex;justify-content:space-around;padding:20px 0}.flex-item[_ngcontent-%COMP%]:hover{background:#fff;cursor:pointer}.sidenavcontainer[_ngcontent-%COMP%]:hover   .sidenav[_ngcontent-%COMP%]   .navigaton-links-container[_ngcontent-%COMP%]   .flex-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block}img[_ngcontent-%COMP%]{margin-left:10px;width:35px;height:35px}}"]}),s),M=((a=function(){function e(t,n){_classCallCheck(this,e),this.cs=t,this.ss=n}return _createClass(e,[{key:"ngOnInit",value:function(){document.getElementsByClassName("nav-show-btn")[0].style.display="none",this.cs.getOnline()}},{key:"ngAfterViewInit",value:function(){this.ss.headHide(!0)}},{key:"ngOnDestroy",value:function(){this.ss.headHide(!1)}}]),e}()).\u0275fac=function(e){return new(e||a)(d.Kb(O),d.Kb(x.a))},a.\u0275cmp=d.Eb({type:a,selectors:[["app-chatzone"]],decls:4,vars:0,consts:[[1,"chatzonesidenav"],[1,"main"]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Lb(1,"app-chatzonesidenav"),d.Ob(),d.Pb(2,"div",1),d.Lb(3,"router-outlet"),d.Ob())},directives:[_,l.h],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;overflow-x:hidden}.main[_ngcontent-%COMP%]{background:url(5267.10fe5bf138ef6b968654.jpg);background-attachment:fixed;background-position:50%;background-repeat:no-repeat;background-size:contain;background:#ebebeb;height:100vh;width:100%;overflow-y:auto}@media screen and (max-width:900px){.main[_ngcontent-%COMP%]{background-size:cover}}"]}),a);function w(e,t){1&e&&(d.Pb(0,"div",9),d.Lb(1,"img",10),d.Pb(2,"h3",11),d.Pb(3,"small"),d.tc(4,"no requests right now"),d.Ob(),d.Ob(),d.Ob())}function y(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",12),d.Pb(1,"div",13),d.Xb("click",(function(){d.mc(n);var e=t.$implicit;return d.bc().goToProfile(e._id)})),d.Lb(2,"img",14),d.Ob(),d.Pb(3,"div",15),d.Pb(4,"h3",16),d.Pb(5,"small"),d.tc(6),d.Ob(),d.Ob(),d.Ob(),d.Pb(7,"div",17),d.Pb(8,"button",18),d.Xb("click",(function(){d.mc(n);var e=t.index,o=t.$implicit;return d.bc().acceptRequest(e,o._id)})),d.tc(9," accept "),d.Lb(10,"i",19),d.Ob(),d.Pb(11,"button",20),d.tc(12," reject "),d.Lb(13,"i",21),d.Ob(),d.Ob(),d.Ob()}if(2&e){var o=t.$implicit;d.zb(2),d.gc("src","http://localhost:8000/"+o.proPic,d.nc)("alt",o.firstname),d.zb(4),d.uc(o.firstname+o.lastname)}}function k(e,t){1&e&&d.Lb(0,"img",22)}var z,I=((z=function(){function e(t,n,o){_classCallCheck(this,e),this.httpc=t,this.router=n,this.ds=o,this.httpURL=u.a.URL,this.unsubscriber$=new b.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show"),this.getRequestUnsubscribe=this.httpc.get(this.httpURL+"get-requests-list/"+localStorage.getItem("email")).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){200==t.status?(e.request_list=t.data,e.isEmpty=!(e.request_list.length>0),e.ds.spinnerControl("hide")):(e.request_list=[],e.ds.spinnerControl("hide"))}),(function(t){e.request_list=[],e.ds.spinnerControl("hide"),alert("some error occured 1")}))}},{key:"acceptRequest",value:function(e,t){var n=this;this.httpc.post(this.httpURL+"add-friend/"+localStorage.getItem("email"),{connectToId:t,ownId:localStorage.getItem("userUniqueId")}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){200==t.status?(n.request_list.splice(e,1),n.ds.spinnerControl("hide")):n.ds.spinnerControl("hide")}),(function(e){n.ds.spinnerControl("hide"),alert("some error occured")}))}},{key:"ngOnDestroy",value:function(){this.getRequestUnsubscribe.unsubscribe(),this.unsubscriber$.next(),this.unsubscriber$.complete()}},{key:"goToProfile",value:function(e){this.router.navigate(["/dashboardmodule/view-profile"],{queryParams:{id:null,userDbId:e}})}}]),e}()).\u0275fac=function(e){return new(e||z)(d.Kb(m.a),d.Kb(l.e),d.Kb(v.a))},z.\u0275cmp=d.Eb({type:z,selectors:[["app-connections"]],decls:11,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col"],[1,"text-center","mb-1","mt-5","mt-md-4"],["class","empty-list",4,"ngIf"],[1,"requesters-container"],["class","indi-requester",4,"ngFor","ngForOf"],[1,"empty-image"],["src","","alt","no requests pending image",4,"ngIf"],[1,"empty-list"],["src","assets\\Social life-bro.png","alt",""],[1,"text-center"],[1,"indi-requester"],[1,"head",3,"click"],[3,"src","alt"],[1,"body"],[1,"name"],[1,"controls"],[1,"btn","btn-success","mr-1",3,"click"],[1,"fa","fa-right"],[1,"btn","btn-warning"],[1,"fa","fa-close"],["src","","alt","no requests pending image"]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"h2",3),d.Pb(4,"small"),d.tc(5,"Manage Connection Requests"),d.Ob(),d.Ob(),d.sc(6,w,5,0,"div",4),d.Pb(7,"div",5),d.sc(8,y,14,3,"div",6),d.Ob(),d.Pb(9,"div",7),d.sc(10,k,1,0,"img",8),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.zb(6),d.gc("ngIf",0==t.request_list.length),d.zb(2),d.gc("ngForOf",t.request_list),d.zb(2),d.gc("ngIf",t.isEmpty))},directives:[c.j,c.i],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.container[_ngcontent-%COMP%]{height:100%}.empty-list[_ngcontent-%COMP%]{width:calc(300px + 5vw);overflow:hidden;position:absolute;top:55%;left:50%;transform:translate(-50%,-50%)}.empty-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.requesters-container[_ngcontent-%COMP%]{width:100%;min-height:70vh;display:flex;justify-content:space-evenly}.indi-requester[_ngcontent-%COMP%]{width:250px;height:250px;position:relative}.body[_ngcontent-%COMP%], .controls[_ngcontent-%COMP%], .indi-requester[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%}.indi-requester[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]{border-radius:50%;width:40%;height:40%;top:5px;transform:translateX(-50%);z-index:22;background:#ebebeb;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:1px 1px 3px rgba(0,0,0,.1)}.indi-requester[_ngcontent-%COMP%]   .head[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90%;height:90%;border-radius:50%;border:2px solid #fff}.body[_ngcontent-%COMP%]{width:60%;height:50%;border-top-right-radius:50%;border-top-left-radius:50%;background:#f5f5f5;transform:translate(-50%,-40%);display:flex;justify-content:center;align-items:center;box-shadow:3px 3px 8px rgba(0,0,0,.1)}.body[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:18px}.indi-requester[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:block;width:100%;left:unset;top:unset;bottom:-5px;text-align:center;padding:2px}.controls[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{box-shadow:2px 2px 5px rgba(0,0,0,.2)}.isempty-image[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60%;height:60%}"]}),z),j=n("3Pt+");function L(e,t){1&e&&(d.Pb(0,"span",35),d.tc(1,"*please enter the room name"),d.Ob())}function S(e,t){1&e&&(d.Pb(0,"span",35),d.tc(1,"*please enter the room Category"),d.Ob())}function E(e,t){1&e&&(d.Pb(0,"span",35),d.tc(1,"*please enter a short Description"),d.Ob())}function R(e,t){1&e&&(d.Pb(0,"span",35),d.tc(1,"*please enter the room Password"),d.Ob())}function X(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",23),d.Pb(1,"label",36),d.tc(2,"Enter Room Password:"),d.Ob(),d.sc(3,R,2,0,"span",17),d.Pb(4,"input",37,38),d.Xb("ngModelChange",(function(e){return d.mc(n),d.bc().roomPass=e})),d.Ob(),d.Ob()}if(2&e){var o=d.lc(5),i=d.bc();d.zb(3),d.gc("ngIf",o.invalid&&o.touched),d.zb(1),d.gc("ngModel",i.roomPass)}}var $,q=function(e){return{width:e}},F=(($=function(){function e(t,n,o){_classCallCheck(this,e),this.ds=t,this.router=n,this.httpc=o,this.httpURL="https://chatep.azurewebsites.net/",this.unsubscriber$=new b.a,this.showProgress=!1,this.privacy="public"}return _createClass(e,[{key:"ngOnInit",value:function(){this.ds.spinnerControl("show"),this.ds.spinnerControl("hide")}},{key:"changePrivacy",value:function(e){this.privacy=e.target.options[e.target.selectedIndex].value}},{key:"create_room",value:function(){var e=this;this.ds.spinnerControl("show");var t={creator:localStorage.getItem("email"),roomName:this.roomName,roomDescription:this.roomDescription,roomCategory:this.roomCat,roomPassword:this.roomPass,roomPrivacy:this.privacy,roomPic:this.roomPic_src||"../../assets/45653808_553438705081091_2716345778523078656_o.png",roomMembers:0,memberDetails:{}};this.ds.createRoomOnServer(t).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(n){1==n.status?(t=n.data,e.ds.spinnerControl("close"),alert("room has been created"),t.random=0,console.log("hello"),e.router.navigate(["/dashboardmodule/message-area"],{queryParams:t}),console.log("hello")):(e.ds.spinnerControl("hide"),alert("sorry some error occured, Room was not created"))}),(function(t){e.ds.spinnerControl("hide"),alert("Not Found")}))}},{key:"fileSelectAndUpload",value:function(e){var t=this;this.showProgress=!0,this.SelectedRoomPic=e.target.files[0];var n=new FormData;n.append("profilePic",this.SelectedRoomPic,localStorage.getItem("email")),this.httpc.post(this.httpURL+"room_pictures/room/"+localStorage.getItem("email"),n,{reportProgress:!0,observe:"events"}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){switch(e.type){case m.c.Sent:console.log("request has been sent");break;case m.c.ResponseHeader:console.log("response header has been received");break;case m.c.UploadProgress:t.progress=Math.round(e.loaded/e.total*100),console.log("uploaded"+t.progress+"%");break;case m.c.Response:setTimeout((function(){return t.showProgress=!1}),1500),alert("profile picture uploaded"),t.roomPic_src=e.body.roomPic_src}}),(function(e){t.showProgress=!1,alert("sorry couldn't add the picture")}))}},{key:"ngOnDestroy",value:function(){this.unsubscriber$.next(),this.unsubscriber$.complete()}}]),e}()).\u0275fac=function(e){return new(e||$)(d.Kb(v.a),d.Kb(l.e),d.Kb(m.a))},$.\u0275cmp=d.Eb({type:$,selectors:[["app-createroom"]],decls:51,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"create-room","py-5","px-m-5","pt-1"],[1,"progress","upload-progress-bar",3,"hidden"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],[1,"text-center","mb-3"],[1,"profile-pic","mb-2"],["alt","",3,"src"],["type","file","name","roompic","id","roompic","accept","image/png",3,"change"],["imageFile",""],[1,"blur-bg"],["id","profilepicuploader",1,"btn",3,"click"],["action","",1,"form"],["createRoom","ngForm"],[1,"form-group","room-name"],["for","roomName",1,"form-label"],["class","error",4,"ngIf"],["type","text","name","roomName","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"form-group","room-cat"],["type","text","name","roomCat","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["cat","ngModel"],[1,"form-group"],["for","description",1,"form-label"],["name","description","cols","30","rows","4","placeholder","","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["des","ngModel"],["class","form-group",4,"ngIf"],["for","privacy",1,"form-label"],["name","privacy",1,"form-control",3,"change"],["value","public","selected",""],["value","public"],["value","private"],[1,"save-btn","text-center"],[1,"btn","btn-success","px-3","py-2",3,"disabled","click"],[1,"error"],["for","roomPass",1,"form-label"],["type","password","name","roomPass","required","","minlength","8","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"]],template:function(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"div",3),d.Pb(4,"div",4),d.Pb(5,"div",5),d.tc(6,"uploading..."),d.Ob(),d.Ob(),d.Pb(7,"h2",6),d.Pb(8,"small"),d.tc(9,"Enter Room Details"),d.Ob(),d.Ob(),d.Pb(10,"div",7),d.Lb(11,"img",8),d.Pb(12,"input",9,10),d.Xb("change",(function(e){return t.fileSelectAndUpload(e)})),d.Ob(),d.Pb(14,"div",11),d.Pb(15,"div",12),d.Xb("click",(function(){return d.mc(n),d.lc(13).click()})),d.tc(16,"+"),d.Ob(),d.Ob(),d.Ob(),d.Pb(17,"form",13,14),d.Pb(19,"div",15),d.Pb(20,"label",16),d.tc(21,"Enter Room Name:"),d.Ob(),d.sc(22,L,2,0,"span",17),d.Pb(23,"input",18,19),d.Xb("ngModelChange",(function(e){return t.roomName=e})),d.Ob(),d.Ob(),d.Pb(25,"div",20),d.Pb(26,"label",16),d.tc(27,"Enter Room Category:"),d.Ob(),d.sc(28,S,2,0,"span",17),d.Pb(29,"input",21,22),d.Xb("ngModelChange",(function(e){return t.roomCat=e})),d.Ob(),d.Ob(),d.Pb(31,"div",23),d.Pb(32,"label",24),d.tc(33,"Enter Room Description:"),d.Ob(),d.sc(34,E,2,0,"span",17),d.Pb(35,"textarea",25,26),d.Xb("ngModelChange",(function(e){return t.roomDescription=e})),d.Ob(),d.Ob(),d.sc(37,X,6,2,"div",27),d.Pb(38,"div",23),d.Pb(39,"label",28),d.tc(40,"Privacy:"),d.Ob(),d.Pb(41,"select",29),d.Xb("change",(function(e){return t.changePrivacy(e)})),d.Pb(42,"option",30),d.tc(43,"Select room type (default public)"),d.Ob(),d.Pb(44,"option",31),d.tc(45,"Public"),d.Ob(),d.Pb(46,"option",32),d.tc(47,"Private"),d.Ob(),d.Ob(),d.Ob(),d.Pb(48,"div",33),d.Pb(49,"button",34),d.Xb("click",(function(){return t.create_room()})),d.tc(50," Create Room"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&e){var o=d.lc(18),i=d.lc(24),r=d.lc(30),a=d.lc(36);d.zb(4),d.gc("hidden",!t.showProgress),d.zb(1),d.qc(d.ic(12,q,t.progress+"%")),d.zb(6),d.gc("src",t.roomPic_src,d.nc),d.zb(11),d.gc("ngIf",i.invalid&&i.touched),d.zb(1),d.gc("ngModel",t.roomName),d.zb(5),d.gc("ngIf",r.invalid&&r.touched),d.zb(1),d.gc("ngModel",t.roomCat),d.zb(5),d.gc("ngIf",a.invalid&&a.touched),d.zb(1),d.gc("ngModel",t.roomDescription),d.zb(2),d.gc("ngIf","private"==t.privacy),d.zb(12),d.gc("disabled",o.invalid)}},directives:[j.n,j.g,j.h,c.j,j.a,j.l,j.f,j.i,j.j,j.m,j.e],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;letter-spacing:1px}input.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:2px solid green}input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:2px solid red}.error[_ngcontent-%COMP%]{margin-left:5px;color:red}input[_ngcontent-%COMP%]:focus{outline:none}.create-room[_ngcontent-%COMP%]{margin:0 auto;width:80%}.form-control[_ngcontent-%COMP%]{background:#f5f5f5}h3[_ngcontent-%COMP%]{letter-spacing:2px}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;left:50%;transform:translateX(-50%)}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.blur-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.3)}#profilepicuploader[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;background:#f5f5f5;color:#000;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:25px;opacity:1}.room-name[_ngcontent-%COMP%]{float:left}.room-cat[_ngcontent-%COMP%]{float:right}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{width:49%;display:inline-block}.upload-progress-bar[_ngcontent-%COMP%]{width:200px;height:15px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}.progress-bar[_ngcontent-%COMP%]{width:100%;height:15px}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{display:inline-block;width:100%;height:unset;min-height:100%;padding:0}.form-group[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{float:none;display:block}}"]}),$);function N(e,t){1&e&&(d.Pb(0,"div",5),d.Lb(1,"img",6),d.Pb(2,"h3",7),d.Pb(3,"small"),d.tc(4,"no friends"),d.Ob(),d.Ob(),d.Ob())}function D(e,t){if(1&e&&(d.Pb(0,"div",20),d.Pb(1,"div",21),d.Pb(2,"h2"),d.tc(3),d.Ob(),d.Ob(),d.Pb(4,"div",22),d.Pb(5,"p"),d.tc(6),d.Ob(),d.Ob(),d.Ob()),2&e){var n=d.bc(2);d.zb(3),d.vc(" ",n.fName," "),d.zb(3),d.uc(n.fAbout)}}function U(e,t){if(1&e&&(d.Pb(0,"div",29),d.tc(1),d.Ob()),2&e){var n=d.bc().$implicit;d.zb(1),d.uc(n.noOfMessages)}}function T(e,t){if(1&e&&(d.Pb(0,"div",30),d.Lb(1,"img",11),d.Ob()),2&e){var n=d.bc().$implicit,o=d.bc(3);d.zb(1),d.gc("src",n.proPic?"http://localhost:8000/"+n.proPic:o.default_pic,d.nc)}}function A(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",31),d.Pb(1,"div",32),d.Xb("click",(function(){d.mc(n);var e=d.bc().$implicit;return d.bc(3).message(e._id)})),d.Lb(2,"img",33),d.Ob(),d.Pb(3,"div",34),d.Xb("click",(function(){d.mc(n);var e=d.bc(),t=e.index,o=e.$implicit;return d.bc(3).removeConnection(t,o._id)})),d.tc(4," x "),d.Ob(),d.Pb(5,"div",35),d.Xb("click",(function(){d.mc(n);var e=d.bc().$implicit;return d.bc(3).goToProfile(e._id)})),d.Lb(6,"img",36),d.Ob(),d.Ob()}}var K=function(e,t,n,o,i){return{top:e,right:t,bottom:n,left:o,"div-friend-online":i}};function B(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",25),d.Xb("mouseover",(function(){d.mc(n);var e=t.index;return d.bc(3).showDetailsFunction(e)}))("mouseleave",(function(){return d.mc(n),d.bc(3).showDetails=!1})),d.sc(1,U,2,1,"div",26),d.sc(2,T,2,1,"div",27),d.sc(3,A,7,0,"div",28),d.Ob()}if(2&e){var o=t.$implicit,i=t.index,r=d.bc(3);d.gc("ngClass",d.jc(4,K,0==i,2==i,1==i,3==i,1==o.isOnline)),d.zb(1),d.gc("ngIf",o.noOfMessages>0),d.zb(1),d.gc("ngIf",i>=r.current_page-1&&i<=r.current_page+r.max_at_one_page),d.zb(1),d.gc("ngIf",i>=r.current_page-1&&i<=r.current_page+r.max_at_one_page)}}function H(e,t){if(1&e&&(d.Pb(0,"div",23),d.sc(1,B,4,10,"div",24),d.Ob()),2&e){var n=d.bc(2);d.zb(1),d.gc("ngForOf",n.connection_list)}}function Q(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",8),d.Pb(1,"div",9),d.Pb(2,"div",10),d.Lb(3,"img",11),d.Ob(),d.sc(4,D,7,2,"div",12),d.Ob(),d.sc(5,H,2,1,"div",13),d.Pb(6,"div",14),d.Pb(7,"ul"),d.Pb(8,"li",15),d.tc(9,"prev "),d.Pb(10,"span",16),d.tc(11),d.Ob(),d.Ob(),d.Pb(12,"li"),d.Pb(13,"input",17,18),d.Xb("ngModelChange",(function(e){return d.mc(n),d.bc().current_page=e})),d.Ob(),d.Pb(15,"span",19),d.tc(16),d.Ob(),d.Ob(),d.Pb(17,"li",15),d.tc(18,"next "),d.Pb(19,"span",16),d.tc(20),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&e){var o=d.bc();d.zb(2),d.Cb("hide",1==o.showDetails),d.zb(1),d.gc("src",o.selfProPic||o.default_pic,d.nc),d.zb(1),d.gc("ngIf",1==o.showDetails),d.zb(1),d.gc("ngIf",0!=o.connection_list.length),d.zb(3),d.Cb("disabled",1==o.current_page),d.zb(3),d.vc(" ",o.current_page-1,""),d.zb(2),d.gc("ngModel",o.current_page),d.zb(3),d.vc("",o.total_pages," page "),d.zb(1),d.Cb("disabled",o.current_page==o.total_pages),d.zb(3),d.uc(1+o.current_page)}}var G,V,Y=((G=function(){function e(t,n,o,i,r){_classCallCheck(this,e),this.httpc=t,this.router=n,this.ds=o,this.cs=i,this.ss=r,this.httpURL=u.a.URL,this.unsubscriber$=new b.a,this.showDetails=!1,this._currentPage=1,this.total_pages=1,this.max_at_one_page=4,this.default_pic="assetsiconsaccount.png"}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show"),this.ss.messageSeen(),this.getConnectionsUnsubscribe=this.httpc.get(this.httpURL+"get-connection-list/"+localStorage.getItem("email")).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){200==t.status?(e.selfProPic=e.httpURL+t.data.selfPic,setTimeout((function(){e.connection_list=t.data.connectionListWithDetails,e.connection_list.sort((function(e,t){})),e.total_pages=Math.floor(e.connection_list.length/e.max_at_one_page+1),e.ds.spinnerControl("hide")}),0)):(e.connection_list=[],e.ds.spinnerControl("hide"))}),(function(t){e.connection_list=[],e.ds.spinnerControl("hide"),alert("some error occured 1")}))}},{key:"removeConnection",value:function(e,t){var n=this;this.ds.spinnerControl("show"),this.httpc.delete(this.httpURL+"remove-connection/"+localStorage.getItem("email")+"/"+t).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){t.status?(n.connection_list.splice(e,1),alert(t.message),n.ds.spinnerControl("hide")):(alert(t.message),n.ds.spinnerControl("hide"))}),(function(e){n.ds.spinnerControl("hide"),alert("some error occured")}))}},{key:"showDetailsFunction",value:function(e){this.fName=this.connection_list[e].firstname+" "+this.connection_list[e].lastname,this.fAbout=this.connection_list[e].about,this.showDetails=!0}},{key:"ngOnDestroy",value:function(){this.getConnectionsUnsubscribe.unsubscribe(),this.unsubscriber$.next(),this.unsubscriber$.complete()}},{key:"prevPage",value:function(){1!=this.current_page&&this.current_page--}},{key:"nextPage",value:function(){this.current_page!=this.total_pages&&this.current_page++}},{key:"message",value:function(e){this.ds.spinnerControl("show");var t={};t.roomCode=e,t.random=0,this.router.navigate(["/dashboardmodule/private-chat"],{queryParams:t}),this.ds.spinnerControl("hide")}},{key:"goToProfile",value:function(e){this.router.navigate(["/dashboardmodule/view-profile"],{queryParams:{id:null,userDbId:e}})}},{key:"current_page",get:function(){return isNaN(this._currentPage)?" ":this._currentPage},set:function(e){e=Number.parseInt(e),this._currentPage=e>this.total_pages?this._currentPage:e}}]),e}()).\u0275fac=function(e){return new(e||G)(d.Kb(m.a),d.Kb(l.e),d.Kb(v.a),d.Kb(O),d.Kb(x.a))},G.\u0275cmp=d.Eb({type:G,selectors:[["app-friend-circle"]],decls:5,vars:2,consts:[[1,"container-fluid"],[1,"row"],[1,"col-12"],["class","empty-list",4,"ngIf"],["class","circle-container",4,"ngIf"],[1,"empty-list"],["src","assets/Alone-rafiki.png","alt",""],[1,"text-center"],[1,"circle-container"],[1,"center-details"],[1,"self-pic"],["alt","",3,"src"],["class","friend-details",4,"ngIf"],["class","circle",4,"ngIf"],[1,"pagination"],[1,"btn","btn-primary","px-2","nav-button"],[1,"numbers"],["type","text","name","current-page","id","current-page",3,"ngModel","ngModelChange"],["ngModel",""],[2,"display","block","font-size","14px"],[1,"friend-details"],[1,"name"],[1,"about"],[1,"circle"],["class","div-friend",3,"ngClass","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"div-friend",3,"ngClass","mouseover","mouseleave"],["class","message-indicator",4,"ngIf"],["class","profile-pic",4,"ngIf"],["class","options",4,"ngIf"],[1,"message-indicator"],[1,"profile-pic"],[1,"options"],[1,"message",3,"click"],["src","assets/icons/chat.png","alt","chat icon"],[1,"remove",3,"click"],[1,"visit-profile",3,"click"],["src","assets/icons/profile icon.png","alt","visit-profile icion"]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.sc(3,N,5,0,"div",3),d.sc(4,Q,21,13,"div",4),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.zb(3),d.gc("ngIf",0==t.connection_list.length),d.zb(1),d.gc("ngIf",0!=t.connection_list.length))},directives:[c.j,j.a,j.f,j.i,c.i,c.h],styles:['.container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}.col-12[_ngcontent-%COMP%]{min-height:100vh;width:100vw}.empty-list[_ngcontent-%COMP%]{width:calc(300px + 5vw);overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute}.empty-list[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.circle-container[_ngcontent-%COMP%]{width:100%;min-height:100vh;position:relative}.circle[_ngcontent-%COMP%]{width:33vw;height:33vw;border:9px double #000;transform:translate(-50%,-50%);border-radius:50%;position:absolute;top:45%;left:50%;transform-origin:center;-webkit-animation:rotation 60s ease-in-out infinite;animation:rotation 60s ease-in-out infinite}.circle[_ngcontent-%COMP%]:hover{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes rotation{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes rotation{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.bottom[_ngcontent-%COMP%], .left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%], .top[_ngcontent-%COMP%]{position:absolute;transform:translate(-50%,-50%)}.top[_ngcontent-%COMP%]{top:0;left:50%}.right[_ngcontent-%COMP%]{top:50%;left:100%}.left[_ngcontent-%COMP%]{top:50%;left:0}.bottom[_ngcontent-%COMP%]{top:100%;left:50%}.div-friend[_ngcontent-%COMP%]{width:25%;height:25%;border-radius:50%;content:" ";background:#fff;border:5px double #000}.div-friend-online[_ngcontent-%COMP%]{border-color:green}.message-indicator[_ngcontent-%COMP%]{position:absolute;left:80%;bottom:2px;width:25px;height:25px;border-radius:50%;background:green;color:#fff;font-size:14px;display:flex;align-items:center;justify-content:center}@-webkit-keyframes rotate-backward{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(-1turn)}}@keyframes rotate-backward{0%{transform:translate(-50%,-50%) rotate(0deg)}to{transform:translate(-50%,-50%) rotate(-1turn)}}.div-friend[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;overflow:hidden}.div-friend[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.options[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;width:0;overflow:hidden;position:absolute;top:0;left:50%;transform:translateX(-50%)}.div-friend[_ngcontent-%COMP%]:hover   .options[_ngcontent-%COMP%]{width:unset;-webkit-animation:popout .2s forwards;animation:popout .2s forwards}@-webkit-keyframes popout{0%{width:0}99%{width:110%;top:-50px}to{width:110%;top:-50px}}@keyframes popout{0%{width:0}99%{width:110%;top:-50px}to{width:110%;top:-50px}}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;cursor:pointer;overflow:hidden;display:flex;align-items:center;justify-content:center}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{transform:rotate(-15deg)}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{transform:rotate(15deg)}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}.circle-container[_ngcontent-%COMP%]   .center-details[_ngcontent-%COMP%]{position:absolute;top:45%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:row;justify-content:center;align-items:center;width:25vw;height:25vw;border-radius:50%}.circle-container[_ngcontent-%COMP%]   .center-details[_ngcontent-%COMP%]   .self-pic[_ngcontent-%COMP%]{width:40%;height:40%;overflow:hidden;border-radius:50%}.circle-container[_ngcontent-%COMP%]   .center-details[_ngcontent-%COMP%]   .self-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.hide[_ngcontent-%COMP%]{display:none}.about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .circle-container[_ngcontent-%COMP%]   .center-details[_ngcontent-%COMP%]   .friend-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;letter-spacing:1px}.friend-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:500;font-size:30px}.friend-details[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px}.pagination[_ngcontent-%COMP%]{position:absolute;top:80%;right:50px;transform:translateY(-50%)}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;display:flex;justify-content:center;align-items:flex-start}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{text-align:center;font-size:18px;padding:2px 5px;margin:0 3px}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{cursor:pointer;letter-spacing:1px;font-weight:200}.numbers[_ngcontent-%COMP%]{background:#f5f5f5;font-size:12px;color:#000;padding:1px 3px;height:16px}#current-page[_ngcontent-%COMP%]{width:30px;font-size:16px;text-align:center}.disabled[_ngcontent-%COMP%]{background:rgba(0,123,255,.2);border:none;cursor:not-allowed!important}@media screen and (max-width:750px){.circle[_ngcontent-%COMP%]{width:65vw;height:65vw}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:40px;height:40px}.options[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px}@-webkit-keyframes popout{0%{width:0}99%{width:160%;top:-40px}to{width:160%;top:-40px}}@keyframes popout{0%{width:0}99%{width:160%;top:-40px}to{width:160%;top:-40px}}.div-friend[_ngcontent-%COMP%]{width:35%;height:35%}.center-details[_ngcontent-%COMP%]   .friend-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.center-details[_ngcontent-%COMP%]   .friend-details[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.pagination[_ngcontent-%COMP%]{width:80%;top:80%;left:50%;right:unset;transform:translate(-50%)}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:row;justify-content:center;align-items:flex-start;width:100%;padding:0}.pagination[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 3px;font-size:16px}}']}),G),J=n("KN7V"),W=((V=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t}}]),e}()).\u0275fac=function(e){return new(e||V)},V.\u0275pipe=d.Jb({name:"keyobject",type:V,pure:!0}),V);function Z(e,t){if(1&e){var n=d.Qb();d.Pb(0,"span",89),d.Xb("click",(function(){d.mc(n);var e=d.bc().$implicit;return d.bc().removeMember(e.key)})),d.tc(1,"ban"),d.Ob()}}function ee(e,t){if(1&e&&(d.Pb(0,"tr"),d.Pb(1,"td"),d.Lb(2,"span",24),d.Ob(),d.Pb(3,"td"),d.tc(4),d.Ob(),d.Pb(5,"td"),d.tc(6),d.Ob(),d.Pb(7,"td"),d.sc(8,Z,2,0,"span",88),d.Ob(),d.Ob()),2&e){var n=t.$implicit,o=d.bc();d.zb(4),d.uc(n.value.member_role),d.zb(2),d.uc(n.value.memberName),d.zb(2),d.gc("ngIf",o.random&&n.key!=o.getPublicId()&&o.isAdmin())}}function te(e,t){1&e&&(d.Pb(0,"span",90),d.tc(1,"*please enter the room name"),d.Ob())}function ne(e,t){1&e&&(d.Pb(0,"span",90),d.tc(1,"*please enter the room Category"),d.Ob())}function oe(e,t){1&e&&(d.Pb(0,"span",90),d.tc(1,"*please enter a short Description"),d.Ob())}function ie(e,t){1&e&&(d.Pb(0,"span",90),d.tc(1,"*please enter the room Password"),d.Ob())}function re(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",9),d.Pb(1,"label",91),d.tc(2,"Enter Room Password:"),d.Ob(),d.sc(3,ie,2,0,"span",53),d.Pb(4,"input",92,93),d.Xb("ngModelChange",(function(e){return d.mc(n),d.bc().roomPass=e})),d.Ob(),d.Ob()}if(2&e){var o=d.lc(5),i=d.bc();d.zb(3),d.gc("ngIf",o.invalid&&o.touched),d.zb(1),d.gc("ngModel",i.roomPass)}}function ae(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",97),d.Pb(1,"span",98),d.Xb("click",(function(){d.mc(n);var e=d.bc().$implicit;return d.bc().viewProfile(e.from_id)})),d.tc(2),d.Ob(),d.Ob()}if(2&e){var o=d.bc().$implicit;d.zb(2),d.uc(o.details.name)}}function se(e,t){1&e&&d.Lb(0,"i",102)}function ce(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",103),d.Lb(1,"img",104),d.Pb(2,"span",98),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.meme.memeData.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",105),d.Ob(),d.Ob()}if(2&e){var o=d.bc(2).$implicit;d.zb(1),d.gc("alt",o.details.meme.memeData.title)}}function le(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",103),d.Lb(1,"img",104),d.Pb(2,"span",98),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.picture.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",106),d.Ob(),d.Ob()}2&e&&(d.zb(1),d.gc("alt","sent a photo"))}function de(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"div",107),d.Pb(2,"div",108),d.Lb(3,"img",45),d.Ob(),d.Pb(4,"div",109),d.Pb(5,"h5"),d.Pb(6,"small"),d.tc(7),d.Ob(),d.Ob(),d.Pb(8,"h6"),d.Pb(9,"small"),d.tc(10),d.Ob(),d.Ob(),d.Pb(11,"a",20),d.tc(12),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&e){var n=d.bc(2).$implicit;d.zb(3),d.gc("src",n.details.previewableLink.image,d.nc),d.zb(4),d.uc(n.details.previewableLink.title),d.zb(3),d.uc(n.details.previewableLink.description.substr(0,50)),d.zb(1),d.gc("href",n.details.previewableLink.url,d.nc),d.zb(1),d.uc(n.details.previewableLink.url)}}function ge(e,t){if(1&e&&(d.Pb(0,"div",99),d.sc(1,se,1,0,"i",100),d.sc(2,ce,5,1,"div",101),d.sc(3,le,5,1,"div",101),d.tc(4),d.sc(5,de,13,5,"ng-container",86),d.Ob()),2&e){var n=d.bc().$implicit;d.zb(1),d.gc("ngIf",1==n.details.react.like),d.zb(1),d.gc("ngIf",1==n.details.meme.is),d.zb(1),d.gc("ngIf",!!n.details.picture&&1==n.details.picture.is),d.zb(1),d.vc(" ",n.details.message," "),d.zb(1),d.gc("ngIf",n.details.links.length>0)}}function be(e,t){1&e&&d.Lb(0,"i",102)}function pe(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",103),d.Lb(1,"img",104),d.Pb(2,"span",98),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.meme.memeData.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",106),d.Ob(),d.Ob()}if(2&e){var o=d.bc(2).$implicit;d.zb(1),d.gc("alt",o.details.meme.memeData.title)}}function ue(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",103),d.Lb(1,"img",104),d.Pb(2,"span",98),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.picture.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",106),d.Ob(),d.Ob()}2&e&&(d.zb(1),d.gc("alt","sent a photo"))}function me(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"div",107),d.Pb(2,"div",108),d.Lb(3,"img",45),d.Ob(),d.Pb(4,"div",109),d.Pb(5,"h5"),d.Pb(6,"small"),d.tc(7),d.Ob(),d.Ob(),d.Pb(8,"h6"),d.Pb(9,"small"),d.tc(10),d.Ob(),d.Ob(),d.Pb(11,"a",20),d.tc(12),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&e){var n=d.bc(2).$implicit;d.zb(3),d.gc("src",n.details.previewableLink.image,d.nc),d.zb(4),d.uc(n.details.previewableLink.title),d.zb(3),d.uc(n.details.previewableLink.description.substr(0,50)),d.zb(1),d.gc("href",n.details.previewableLink.url,d.nc),d.zb(1),d.uc(n.details.previewableLink.url)}}function he(e,t){if(1&e&&(d.Pb(0,"div",110),d.sc(1,be,1,0,"i",100),d.sc(2,pe,5,1,"div",101),d.sc(3,ue,5,1,"div",101),d.tc(4),d.sc(5,me,13,5,"ng-container",86),d.Ob()),2&e){var n=d.bc().$implicit;d.zb(1),d.gc("ngIf",1==n.details.react.like),d.zb(1),d.gc("ngIf",1==n.details.meme.is),d.zb(1),d.gc("ngIf",!!n.details.picture&&1==n.details.picture.is),d.zb(1),d.vc(" ",n.details.message," "),d.zb(1),d.gc("ngIf",n.details.links.length>0)}}function fe(e,t){1&e&&d.Lb(0,"span")}function Pe(e,t){if(1&e&&(d.Pb(0,"div",72),d.sc(1,ae,3,1,"div",94),d.sc(2,ge,6,5,"div",95),d.sc(3,he,6,5,"div",96),d.sc(4,fe,1,0,"span",86),d.Ob()),2&e){var n=t.$implicit,o=d.bc();d.zb(1),d.gc("ngIf",n.from_id!=o.getPublicId()),d.zb(1),d.gc("ngIf",n.from_id!=o.getPublicId()),d.zb(1),d.gc("ngIf",n.from_id==o.getPublicId()),d.zb(1),d.gc("ngIf",o.scrollToBottom())}}function Oe(e,t){1&e&&(d.Pb(0,"div",111),d.tc(1," sending... "),d.Ob())}function xe(e,t){1&e&&d.Lb(0,"span",112)}function ve(e,t){1&e&&d.Lb(0,"img",113)}function Ce(e,t){1&e&&(d.Pb(0,"span"),d.tc(1,"MEME"),d.Ob())}function _e(e,t){1&e&&d.Lb(0,"img",113)}function Me(e,t){if(1&e){var n=d.Qb();d.Pb(0,"emoji-mart",116),d.Xb("emojiSelect",(function(e){return d.mc(n),d.bc(2).addEmoji(e)})),d.Ob()}if(2&e){var o=d.bc(2);d.hc("set",o.set)}}function we(e,t){if(1&e&&(d.Pb(0,"div",114),d.sc(1,Me,1,1,"emoji-mart",115),d.Ob()),2&e){var n=d.bc();d.zb(1),d.gc("ngIf",n.showEmojiPicker)}}var ye,ke=function(e){return{width:e}},ze=function(e){return{display:e}},Ie=((ye=function(){function e(t,n,o,i,r){_classCallCheck(this,e),this.router=t,this.ar=n,this.ds=o,this.Httpc=i,this.chatService=r,this.httpURL=u.a.URL,this.unsubscriber$=new b.a,this.showModal=!1,this.roomPasswordCheck=null,this.createMessage="",this.messageList=[],this.members={},this.loadingMessage=[],this.group=1,this.loadingMeme=0,this.loadingPic=0,this.random=0,this.showEmojiPicker=!1,this.sets=["native","google","twitter","facebook","emojione","apple","messenger"],this.set="twitter",this.progressObj={progress:0,showProgress:!1}}return _createClass(e,[{key:"toggleEmojiPicker",value:function(e){e.preventDefault(),this.showEmojiPicker=!this.showEmojiPicker,window.innerWidth<700&&window.scrollTo(0,document.body.scrollHeight)}},{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show"),this.chatService.openConnection(),this.ar.queryParams.subscribe((function(t){e.urlParams=t,"private"==t.roomType||"private"==t.type?(e.showModal=!0,e.ds.spinnerControl("hide")):e.join_room_procedure()}),(function(t){alert("some error has occured please go back and try again"),e.ds.spinnerControl("hide")})),this.messageObserver=this.chatService.getMessages().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){var n=(t=JSON.parse(t)).details.message.match(/\b(http|https)?:\/\/\S+/gi)||[];if(n.length>0){var o={};e.Httpc.get("https://api.linkpreview.net?key="+u.a.linkPreviewApi+"&&q="+n[0]).subscribe((function(i){o=i,t.details.previewableLink=o,t.details.links=n,e.messageList.push(t),t.from_id==e.getPublicId()&&e.loadingMessage.shift()}))}else t.details.links=n,e.messageList.push(t),t.from_id==e.getPublicId()&&e.loadingMessage.shift()})),this.membersObserver=this.chatService.getMembers().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){e.roomMembers=t.memberCount,e.members=t.allMemberDetails})),this.rejectionObserver=this.chatService.rejected().subscribe((function(t){alert(t.message),e.router.navigate(["/dashboardmodule/chat"])})),this.banObserver=this.chatService.removed().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){1==t.ban&&(alert("sorry! you were removed by the admin"),e.router.navigate(["/dashboardmodule/chat"]))})),document.getElementsByClassName("header")[0].style.display="none",document.getElementsByClassName("chatzonesidenav")[0].style.display="none"}},{key:"ngAfterViewInit",value:function(){}},{key:"join_room_with_password",value:function(){this.showModal=!1,this.ds.spinnerControl("show"),this.join_room_procedure()}},{key:"join_room_procedure",value:function(){var e=this;localStorage.getItem("email")&&this.Httpc.get(this.httpURL+"get-details/"+localStorage.getItem("email")).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){"200"==t.status&&(e.ds.filldetails(t.data),console.log(e.urlParams.roomCode),e.Httpc.get(e.httpURL+"room-by-code/"+e.urlParams.roomCode).pipe(Object(p.a)(e.unsubscriber$)).subscribe((function(t){1==t.status?(e.roomDescription=t.data.description,e.roomCategory=t.data.category,e.roomPassword=t.data.password,e.chat_name=t.data.roomName,e.mod=t.data.createdBy,e.roomPrivacy=t.data.type,e.roomCode=t.data.roomCode,e.roomPic=t.data.roomPic,e.roomMembers=t.data.roomMembers,e.random=e.urlParams.random,e.chatService.join_room(e.roomCode,e.ds.details.FullName,e.roomPasswordCheck)):console.log(t.message)}),(function(t){console.log(t),e.ds.spinnerControl("hide")}),(function(){console.log("completed"),e.ds.spinnerControl("hide")})),e.ds.spinnerControl("hide"))}))}},{key:"ngOnDestroy",value:function(){var e=document.getElementsByClassName("show-spinner")[0];e.style.display="block",this.messageObserver.unsubscribe(),this.membersObserver.unsubscribe(),this.rejectionObserver.unsubscribe(),this.banObserver.unsubscribe(),this.unsubscriber$.next(),this.unsubscriber$.complete(),this.chatService.closeChat(),document.getElementsByClassName("header")[0].style.display="block",document.getElementsByClassName("chatzonesidenav")[0].style.display="flex",e.style.display="none"}},{key:"performExit",value:function(){this.messageObserver.unsubscribe(),document.getElementsByClassName("header")[0].style.display="block",document.getElementsByClassName("chatzonesidenav")[0].style.display="flex",this.router.navigate(["/dashboardmodule/chat"])}},{key:"getPublicId",value:function(){return localStorage.getItem("uniqueChatId")}},{key:"isAdmin",value:function(){return localStorage.getItem(this.chat_name)==this.getPublicId()?1:0}},{key:"scrollToBottom",value:function(){var e=document.getElementsByClassName("chat-messages")[0];return e.scrollTop=e.scrollHeight,!1}},{key:"viewProfile",value:function(e){this.router.navigate(["/dashboardmodule/view-profile"],{queryParams:{id:e}})}},{key:"insertTextAtIndices",value:function(e,t){return e.replace(/./g,(function(e,n){return t[n]?t[n]+e:e}))}},{key:"showGroupMenu",value:function(e){e.preventDefault(),document.getElementsByClassName("menu")[0].style.display="inline-block"}},{key:"hideGroupMenu",value:function(){document.getElementsByClassName("menu")[0].style.display="none"}},{key:"removeMember",value:function(e){this.chatService.removeMember({id:e})}},{key:"checkIfEnter",value:function(e){13==((e=e||window.event).keyCode||e.which)&&(e.preventDefault(),this.sendMessage())}},{key:"sendMessage",value:function(){""!=this.createMessage&&(this.loadingMessage.push("1"),this.chatService.sendMessage({from_id:"anonymous",files:!0,details:{name:this.ds.details.FullName,message:this.createMessage,react:{like:0},meme:{is:0,memeData:""}}}),this.createMessage="")}},{key:"sendLike",value:function(e){e.preventDefault(),this.chatService.sendMessage({from_id:"anonymous",files:!0,details:{name:this.ds.details.FullName,message:"",react:{like:1},meme:{is:0,memeData:""}}})}},{key:"sendMeme",value:function(e){var t=this;e.preventDefault(),this.loadingMeme=1,this.Httpc.get("https://meme-api.herokuapp.com/gimme").pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){""!=e.url&&0==e.nsfw&&(t.chatService.sendMessage({from_id:"anonymous",files:!0,details:{name:t.ds.details.FullName,message:"",react:"",meme:{is:1,memeData:e}}}),t.loadingMeme=0)}),(function(e){alert("Sorry, Can't send maymay right now"),t.loadingMeme=0}))}},{key:"downloadFile",value:function(e,t,n){e.target.parentElement.parentElement.firstElementChild.setAttribute("src",n),e.target.style.display="none"}},{key:"fileSelectAndUpload",value:function(e){var t=this;this.ds.spinnerControl("show"),this.SelectedRoomPic=e.target.files[0];var n=new FormData;n.append("profilePic",this.SelectedRoomPic,localStorage.getItem("email")),this.Httpc.post(this.httpURL+"room_pictures/room/"+localStorage.getItem("email"),n).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){console.log(e),1==e.success?(t.roomPic=e.roomPic_src,t.ds.spinnerControl("hide")):(t.ds.spinnerControl("hide"),alert("sorry some error occurred"))}),(function(e){t.ds.spinnerControl("hide"),alert("sorry some error occured")}))}},{key:"changePrivacy",value:function(e){this.roomPrivacy=e.target.options[e.target.selectedIndex].value}},{key:"save_room_changes",value:function(){var e=this;this.ds.spinnerControl("show");var t={creator:localStorage.getItem("email"),roomName:this.chat_name,roomDescription:this.roomDescription,roomCategory:this.roomCategory,roomPassword:this.roomPassword,roomPrivacy:this.roomPrivacy,roomPic:this.roomPic||"assets/45653808_553438705081091_2716345778523078656_o.png",roomMembers:this.roomMembers};this.ds.saveRoomChangesOnServer(t,this.roomCode).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){if(1==t.status){var n=t.data;e.roomDescription=n.description,e.roomCategory=n.category,e.roomPassword=n.password,e.chat_name=n.roomName,e.roomPrivacy=n.type,e.roomPic=n.roomPic,e.ds.spinnerControl("close")}else e.ds.spinnerControl("hide"),alert("sorry some error occured, Room was not created")}),(function(t){e.ds.spinnerControl("hide"),alert("Not Found")}))}},{key:"selectPicture",value:function(e,t){e.preventDefault(),t.click()}},{key:"uploadPicture",value:function(e){var t=this;this.progressObj.showProgress=!0;var n=e.target.files[0],o=new FormData;this.loadingPic=1,o.append("messagePic",n,localStorage.getItem("email")),this.Httpc.post(this.httpURL+"message-picture",o,{reportProgress:!0,observe:"events"}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){switch(e.type){case m.c.Sent:console.log("request has been sent");break;case m.c.ResponseHeader:console.log("response header has been received");break;case m.c.UploadProgress:t.progressObj.progress=Math.round(e.loaded/e.total*100),console.log("uploaded"+t.progressObj.progress+"%");break;case m.c.Response:setTimeout((function(){return t.progressObj.showProgress=!1}),1500),e.body.status?t.sendPicture(e.body.messagePic):t.loadingPic=0}}),(function(e){t.progressObj.showProgress=!1,console.log("sorry failed to send the message")}))}},{key:"sendPicture",value:function(e){this.chatService.sendMessage({from_id:localStorage.getItem("userUniqueId"),files:!0,details:{name:this.ds.details.FullName,message:"",react:{like:0},meme:{is:0,memeData:""},picture:{is:1,url:e}}}),this.loadingPic=0}},{key:"showEmoji",value:function(e,t){e.preventDefault(),t.style.display="block"}},{key:"emojiadd",value:function(e,t){t.value+=" "+e.target.innerText}},{key:"addEmoji",value:function(e){this.createMessage=""+this.createMessage+e.emoji.native}},{key:"onFocus",value:function(){this.showEmojiPicker=!1}},{key:"onBlur",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||ye)(d.Kb(l.e),d.Kb(l.a),d.Kb(v.a),d.Kb(m.a),d.Kb(O))},ye.\u0275cmp=d.Eb({type:ye,selectors:[["app-messagearea"]],decls:139,vars:43,consts:[[1,""],[1,"progress","upload-progress-bar",3,"hidden"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],[1,"room-password-modal"],[1,"form-container"],[1,"close-modal",3,"click"],[1,"text-center","mb-3"],["action","",1,"form"],["roomPasswordForm","ngForm"],[1,"form-group"],["for","password",1,"form-label"],["type","password","autocomplete","current-password","required","","placeholder","enter password here","minlength","8","maxlength","15","name","roomPassword","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["roomPassword","ngModel"],[1,"btn","btn-primary","text-white","mt-3","py-2","px-lg-5","px-2",3,"click"],[1,"outerlayer","bg-dark"],[1,"logo"],[1,"chatbox-holder"],[1,"chatbox"],[1,"chatbox-top"],[1,"chatbox-avatar"],["target","_blank",3,"href"],[3,"src"],[1,"chat-partner-name"],["href","#",3,"click"],[1,"status","online"],[1,"chatbox-icons"],[3,"click"],[1,"fa","fa-close"],[1,"chat-messages"],[1,"menu"],[1,"closeMenu",3,"click"],[1,"details"],[1,"settings"],[1,"nav","nav-tabs","justify-content-center"],[1,"nav-item"],["data-toggle","tab","href","#Members",1,"nav-link","active","px-3"],["data-toggle","tab","href","#group",1,"nav-link","px-3"],[1,"tab-content"],["id","Members",1,"tab-pane","container","active"],[1,"member-controls"],[1,"table"],[4,"ngFor","ngForOf"],["id","group",1,"tab-pane","container","fade"],[1,"create-room","py-5","px-m-5","pt-1"],[1,"profile-pic","mb-2"],["alt","",3,"src"],["type","file","name","roompic","id","roompic","accept","image/png",3,"change"],["imageFile",""],[1,"blur-bg"],["id","profilepicuploader",1,"btn",3,"click"],["createRoom","ngForm"],[1,"form-group","room-name"],["for","roomName",1,"form-label"],["class","error",4,"ngIf"],["type","text","name","roomName","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],[1,"form-group","room-cat"],["type","text","name","roomCat","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["cat","ngModel"],["for","description",1,"form-label"],["name","description","cols","30","rows","4","placeholder","","required","","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["des","ngModel"],["class","form-group",4,"ngIf"],["for","privacy",1,"form-label"],["name","privacy",1,"form-control",3,"change"],["value","public"],["value","public",3,"selected"],["value","private",3,"selected"],[1,"save-btn","text-center"],[1,"btn","btn-success","mt-3","px-3","py-2",3,"disabled","click"],[1,"text-center","mb-2",2,"width","100vw"],["class","message-box-holder",4,"ngFor","ngForOf"],[1,"message-box-holder"],["class","message-box text-dark",4,"ngFor","ngForOf"],[1,"chat-input-holder"],["placeholder","enter message here... ",1,"chat-input",3,"ngModel","ngModelChange","keypress"],["writeArea",""],["type","submit","value","Send",1,"message-send",3,"click"],[1,"attachment-panel"],["href","#",1,"fa","fa-thumbs-up","ld","ld-zoom-in",3,"click"],["href","#",1,"",3,"click"],["class","fa fa-camera",4,"ngIf"],["src","../../assets/icons/Infinity-1.9s-221px.png","style","width:25px; height:25px;","alt","loading....",4,"ngIf"],["type","file","name","sendPic","id","sendPic",3,"change"],["sendPic",""],["href","#",1,"ld","ld-zoom-in",3,"click"],[4,"ngIf"],["class","emoji-picker",4,"ngIf"],["style","color:red; cursor:pointer; display:block;",3,"click",4,"ngIf"],[2,"color","red","cursor","pointer","display","block",3,"click"],[1,"error"],["for","roomPass",1,"form-label"],["type","password","name","roomPass","required","","minlength","8","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"],["class","message-sender",4,"ngIf"],["class","message-box message-partner ld ld-throw-btt-in","style","animation-duration: 0.5s;",4,"ngIf"],["class","message-box bg-dark text-white",4,"ngIf"],[1,"message-sender"],[2,"cursor","pointer",3,"click"],[1,"message-box","message-partner","ld","ld-throw-btt-in",2,"animation-duration","0.5s"],["class","fa fa-thumbs-up","style","animation-duration: 1s;",4,"ngIf"],["class","img",4,"ngIf"],[1,"fa","fa-thumbs-up",2,"animation-duration","1s"],[1,"img"],["src","",3,"alt"],["src","downloadicon.png","alt","download icon",2,"width","25px","height","25px"],["src","assets/icons/down-arrow.png","alt","download icon",2,"width","25px","height","25px"],[1,"preview-link"],[1,"image"],[1,"desc"],[1,"message-box","bg-dark","text-white"],[1,"message-box","text-dark"],[1,"fa","fa-camera"],["src","../../assets/icons/Infinity-1.9s-221px.png","alt","loading....",2,"width","25px","height","25px"],[1,"emoji-picker"],["class","emoji-mart","title","Pick your emoji\u2026",3,"set","emojiSelect",4,"ngIf"],["title","Pick your emoji\u2026",1,"emoji-mart",3,"set","emojiSelect"]],template:function(e,t){if(1&e){var n=d.Qb();d.Pb(0,"body",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.tc(3,"uploading..."),d.Ob(),d.Ob(),d.Pb(4,"section",3),d.Pb(5,"div",4),d.Pb(6,"div",5),d.Xb("click",(function(){return t.showModal=!1})),d.tc(7," X "),d.Ob(),d.Pb(8,"h4",6),d.Pb(9,"small"),d.tc(10,"this room is private please enter password"),d.Ob(),d.Ob(),d.Pb(11,"form",7,8),d.Pb(13,"div",9),d.Pb(14,"label",10),d.Pb(15,"input",11,12),d.Xb("ngModelChange",(function(e){return t.roomPasswordCheck=e})),d.Ob(),d.Ob(),d.Ob(),d.Pb(17,"button",13),d.Xb("click",(function(){return t.join_room_with_password()})),d.tc(18,"Enter"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(19,"div",14),d.Pb(20,"h2",15),d.tc(21,"Chating App"),d.Ob(),d.Pb(22,"div",16),d.Pb(23,"div",17),d.Pb(24,"div",18),d.Pb(25,"div",19),d.Pb(26,"a",20),d.Lb(27,"img",21),d.Ob(),d.Ob(),d.Pb(28,"div",22),d.Pb(29,"a",23),d.Xb("click",(function(e){return t.showGroupMenu(e)})),d.tc(30),d.Ob(),d.tc(31," \xa0 "),d.Lb(32,"span",24),d.tc(33),d.Ob(),d.Pb(34,"div",25),d.Pb(35,"a",26),d.Xb("click",(function(){return t.performExit()})),d.Pb(36,"i",27),d.tc(37,"\xa0 Exit"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(38,"div",28),d.Pb(39,"div",29),d.Pb(40,"div",30),d.Xb("click",(function(){return t.hideGroupMenu()})),d.Pb(41,"span"),d.tc(42,"X"),d.Ob(),d.Ob(),d.Pb(43,"div",31),d.Pb(44,"div",32),d.Pb(45,"ul",33),d.Pb(46,"li",34),d.Pb(47,"a",35),d.tc(48,"Manage Members"),d.Ob(),d.Ob(),d.Pb(49,"li",34),d.Pb(50,"a",36),d.tc(51,"Manage Group"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(52,"div",37),d.Pb(53,"div",38),d.Pb(54,"div",39),d.Pb(55,"table",40),d.Pb(56,"tr"),d.Pb(57,"th"),d.tc(58,"#"),d.Ob(),d.Pb(59,"th"),d.tc(60,"type"),d.Ob(),d.Pb(61,"th"),d.tc(62,"name"),d.Ob(),d.Pb(63,"th"),d.tc(64,"options"),d.Ob(),d.Ob(),d.sc(65,ee,9,3,"tr",41),d.cc(66,"keyobject"),d.Ob(),d.Ob(),d.Ob(),d.Pb(67,"div",42),d.Pb(68,"div",43),d.Pb(69,"h2",6),d.Pb(70,"small"),d.tc(71,"Enter Room Details"),d.Ob(),d.Ob(),d.Pb(72,"div",44),d.Lb(73,"img",45),d.Pb(74,"input",46,47),d.Xb("change",(function(e){return t.fileSelectAndUpload(e)})),d.Ob(),d.Pb(76,"div",48),d.Pb(77,"div",49),d.Xb("click",(function(){return d.mc(n),d.lc(75).click()})),d.tc(78,"+"),d.Ob(),d.Ob(),d.Ob(),d.Pb(79,"form",7,50),d.Pb(81,"div",51),d.Pb(82,"label",52),d.tc(83,"Enter Room Name:"),d.Ob(),d.sc(84,te,2,0,"span",53),d.Pb(85,"input",54,55),d.Xb("ngModelChange",(function(e){return t.chat_name=e})),d.Ob(),d.Ob(),d.Pb(87,"div",56),d.Pb(88,"label",52),d.tc(89,"Enter Room Category:"),d.Ob(),d.sc(90,ne,2,0,"span",53),d.Pb(91,"input",57,58),d.Xb("ngModelChange",(function(e){return t.roomCategory=e})),d.Ob(),d.Ob(),d.Pb(93,"div",9),d.Pb(94,"label",59),d.tc(95,"Enter Room Description:"),d.Ob(),d.sc(96,oe,2,0,"span",53),d.Pb(97,"textarea",60,61),d.Xb("ngModelChange",(function(e){return t.roomDescription=e})),d.Ob(),d.Ob(),d.sc(99,re,6,2,"div",62),d.Pb(100,"div",9),d.Pb(101,"label",63),d.tc(102,"Privacy:"),d.Ob(),d.Pb(103,"select",64),d.Xb("change",(function(e){return t.changePrivacy(e)})),d.Pb(104,"option",65),d.tc(105,"Select room type (default public)"),d.Ob(),d.Pb(106,"option",66),d.tc(107,"Public"),d.Ob(),d.Pb(108,"option",67),d.tc(109,"Private"),d.Ob(),d.Ob(),d.Ob(),d.Pb(110,"div",68),d.Pb(111,"button",69),d.Xb("click",(function(){return t.save_room_changes()})),d.tc(112,"Save Changes"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(113,"h5",70),d.Pb(114,"small"),d.tc(115),d.Ob(),d.Ob(),d.Pb(116,"h5",70),d.Pb(117,"small"),d.tc(118,"start messaging..."),d.Ob(),d.Ob(),d.sc(119,Pe,5,4,"div",71),d.Pb(120,"div",72),d.sc(121,Oe,2,0,"div",73),d.Ob(),d.Ob(),d.Pb(122,"div",74),d.Pb(123,"textarea",75,76),d.Xb("ngModelChange",(function(e){return t.createMessage=e}))("keypress",(function(e){return t.checkIfEnter(e)})),d.Ob(),d.Pb(125,"input",77),d.Xb("click",(function(){return t.sendMessage()})),d.Ob(),d.Ob(),d.Pb(126,"div",78),d.Pb(127,"a",79),d.Xb("click",(function(e){return t.sendLike(e)})),d.Ob(),d.Pb(128,"a",80),d.Xb("click",(function(e){d.mc(n);var o=d.lc(132);return t.selectPicture(e,o)})),d.sc(129,xe,1,0,"span",81),d.sc(130,ve,1,0,"img",82),d.Ob(),d.Pb(131,"input",83,84),d.Xb("change",(function(e){return t.uploadPicture(e)})),d.Ob(),d.Pb(133,"a",85),d.Xb("click",(function(e){return t.sendMeme(e)})),d.sc(134,Ce,2,0,"span",86),d.sc(135,_e,1,0,"img",82),d.Ob(),d.Pb(136,"a",80),d.Xb("click",(function(e){return t.toggleEmojiPicker(e)})),d.tc(137,"\ud83d\ude00"),d.Ob(),d.sc(138,we,2,1,"div",87),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&e){var o=d.lc(80),i=d.lc(86),r=d.lc(92),a=d.lc(98);d.zb(1),d.gc("hidden",!t.progressObj.showProgress),d.zb(1),d.qc(d.ic(37,ke,t.progressObj.progress+"%")),d.zb(2),d.Cb("show-modal",t.showModal),d.zb(11),d.gc("ngModel",t.roomPasswordCheck),d.zb(10),d.qc(d.ic(39,ze,"")),d.zb(1),d.gc("href",t.roomPic,d.nc),d.zb(1),d.gc("src",t.roomPic,d.nc),d.zb(1),d.qc(d.ic(41,ze,"")),d.zb(2),d.vc(" ",t.chat_name,""),d.zb(3),d.vc(" ",t.roomMembers," "),d.zb(32),d.gc("ngForOf",d.dc(66,35,t.members)),d.zb(8),d.gc("src",t.roomPic,d.nc),d.zb(11),d.gc("ngIf",i.invalid&&i.touched),d.zb(1),d.gc("ngModel",t.chat_name),d.zb(5),d.gc("ngIf",r.invalid&&r.touched),d.zb(1),d.gc("ngModel",t.roomCategory),d.zb(5),d.gc("ngIf",a.invalid&&a.touched),d.zb(1),d.gc("ngModel",t.roomDescription),d.zb(2),d.gc("ngIf","private"==t.roomPrivacy),d.zb(7),d.gc("selected","public"==t.roomPrivacy),d.zb(2),d.gc("selected","private"==t.roomPrivacy),d.zb(3),d.gc("disabled",o.invalid),d.zb(4),d.vc("Room Code : ",t.roomCode,""),d.zb(4),d.gc("ngForOf",t.messageList),d.zb(2),d.gc("ngForOf",t.loadingMessage),d.zb(2),d.gc("ngModel",t.createMessage),d.zb(6),d.gc("ngIf",0==t.loadingPic),d.zb(1),d.gc("ngIf",t.loadingPic),d.zb(4),d.gc("ngIf",0==t.loadingMeme),d.zb(1),d.gc("ngIf",t.loadingMeme),d.zb(3),d.gc("ngIf",t.showEmojiPicker)}},directives:[j.n,j.g,j.h,j.a,j.l,j.e,j.d,j.f,j.i,c.i,c.j,j.j,j.m,J.a],pipes:[W],styles:['*[_ngcontent-%COMP%]{overflow-x:hidden}body[_ngcontent-%COMP%]{box-sizing:border-box;min-height:100vh;margin:0;background-color:#cac1c1;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}#con[_ngcontent-%COMP%]{display:none;position:absolute;top:50%;left:50%;z-index:111;transform:translate(-50%,-50%);box-shadow:3px 3px 5px rgba(0,0,0,.5)}.emojiPicker[_ngcontent-%COMP%]{width:296px;border:none;background-color:#f0f8ff;box-shadow:2px 2px 5px -1px rgba(0,0,0,.75)}.emojis[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.emojiFrame[_ngcontent-%COMP%]{box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;cursor:pointer;width:30px;font-size:21px;padding:3px;margin:3px;background-color:transparent;transform:scale(.9);transition:background-color .2s,transform .1s}.emojiFrame[_ngcontent-%COMP%]:hover{background-color:#0d8cfc}.emojiFrame[_ngcontent-%COMP%]:active{background-color:#4babff;transform:scale(.95)}.close[_ngcontent-%COMP%]{position:absolute;top:4px;right:10px;cursor:pointer}*[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%]{font-family:Times New Roman,Times,serif}.preview-link[_ngcontent-%COMP%]{display:flex;flex-direction:row}.preview-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;padding:5px}.preview-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.preview-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}.upload-progress-bar[_ngcontent-%COMP%]{width:200px;height:15px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}.progress-bar[_ngcontent-%COMP%]{width:100%;height:15px}body[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:14px;color:#999;word-wrap:break-word;height:100vh;background:#bab8c8;background:radial-gradient(circle,#bab8c8 0,#f4f4f4 100%)}.outerlayer[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;position:fixed}.outerlayer[_ngcontent-%COMP%]{height:40vh}ul[_ngcontent-%COMP%]{list-style:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.logo[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;font-size:25px}.chatbox-holder[_ngcontent-%COMP%]{position:fixed;z-index:11111;top:50%;left:50%;width:60%;height:90%;transform:translate(-50%,-50%);display:flex;justify-content:center;padding:0;box-shadow:1px 3px 10px rgba(114,108,108,.2);overflow-x:hidden}.chatbox[_ngcontent-%COMP%]{margin:0;box-sizing:content-box;box-shadow:0 0 5px 0 rgba(0,0,0,.2);flex-flow:column;background:#fff;bottom:0;transition:.1s ease-out;width:100%;height:100%}.chatbox[_ngcontent-%COMP%], .chatbox-top[_ngcontent-%COMP%]{position:relative;display:flex;border-radius:0}.chatbox-top[_ngcontent-%COMP%]{padding:10px 0;background:rgba(0,0,0,.05)}.chatbox-icons[_ngcontent-%COMP%]{padding:0 10px 0 0;display:flex;position:relative;cursor:pointer}.chatbox-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{background:rgba(220,0,0,.6);padding:3px 5px;margin:0 0 0 3px;color:#fff;border-radius:0 5px 0 5px;transition:.3s}.chatbox-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover{border-radius:5px 0 5px 0;background:#dc0000}.chatbox-icoins[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;text-decoration:none}.chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:5px;font-size:16px}.chat-group-name[_ngcontent-%COMP%], .chat-partner-name[_ngcontent-%COMP%]{flex:1;padding:0 0 0 95px;font-size:15px;font-weight:700;color:#30649c;text-shadow:1px 1px 0 #fff;transition:.1s ease-out}.status[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;display:inline-block;box-shadow:inset 0 0 3px 0 rgba(0,0,0,.2);border:1px solid rgba(0,0,0,.15);background:#cacaca;margin:0 3px 0 0}.online[_ngcontent-%COMP%]{background:#b7fb00}.away[_ngcontent-%COMP%]{background:#ffae00}.donot-disturb[_ngcontent-%COMP%]{background:#ff4343}.chatbox-avatar[_ngcontent-%COMP%]{width:35px;height:35px;overflow:hidden;border-radius:50%;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.2);position:absolute;transition:.1s ease-out;top:50%;left:6px;transform:translateY(-50%)}.chatbox-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.chat-messages[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.05);padding:10px;overflow:auto;display:flex;flex-flow:row wrap;align-content:flex-start;flex:1;scrollbar-width:none;position:relative}.menu[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:none;height:100%;width:100%;background:hsla(0,0%,100%,.9);z-index:1111}.menu[_ngcontent-%COMP%]   .closeMenu[_ngcontent-%COMP%]{display:inline-block;top:10px;right:20px;cursor:pointer;color:red}.menu[_ngcontent-%COMP%]   .closeMenu[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{position:absolute;font-size:20px}.menu[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{left:50%;width:80%;margin-top:20px;transform:translate(-50%);color:#000;letter-spacing:1px}.member-controls[_ngcontent-%COMP%]{height:55vh;margin:10px;overflow:auto;scrollbar-width:none;cursor:all-scroll}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;width:60%;justify-content:space-between;margin:5px auto}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{letter-spacing:1px}.message-box-holder[_ngcontent-%COMP%]{width:100%;padding:10px 6px;display:flex;flex-flow:column;align-items:flex-end}.message-sender[_ngcontent-%COMP%]{font-size:12px;margin:0 0 15px;color:#30649c;align-self:flex-start}.chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#30649c;text-decoration:none}.message-box[_ngcontent-%COMP%]{padding:6px 10px;overflow-y:hidden;border-radius:6px 0 6px 0;position:relative;background:rgba(100,170,0,.1);border:2px solid rgba(100,170,0,.1);color:#000;font-size:18px;letter-spacing:0;text-shadow:2px 2px 4px rgba(0,0,0,.2);box-shadow:2px 2px 5px rgba(0,0,0,.4);max-width:60%}.message-box[_ngcontent-%COMP%]:after{content:"";position:absolute;border:10px solid transparent;border-top-color:rgba(100,170,0,.2);border-right:none;bottom:-22px;right:10px}.message-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;cursor:pointer}.message-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{width:300px;height:300px}.message-partner[_ngcontent-%COMP%]{align-self:flex-start;background:#f5f5f5;box-shadow:2px 2px 6px rgba(0,0,0,.5)}.message-partner[_ngcontent-%COMP%]:after{right:auto;bottom:auto;top:-22px;left:9px;border:10px solid transparent;border-left:none}.chat-input-holder[_ngcontent-%COMP%]{display:flex;border-top:1px solid rgba(0,0,0,.1)}.chat-input[_ngcontent-%COMP%]{resize:none;padding:5px 10px;height:60px;font-family:Lato,sans-serif;font-size:18px;color:#000;flex:1;background:rgba(0,0,0,.05);border:none;border-bottom:1px solid rgba(0,0,0,.05)}.chat-input[_ngcontent-%COMP%]:focus, .message-send[_ngcontent-%COMP%]:focus{outline:none}.message-send[_ngcontent-%COMP%]::-moz-focus-inner{border:0;padding:0}.message-send[_ngcontent-%COMP%]{-webkit-appearance:none;background:#9cc900;background:linear-gradient(180deg,#00d8ff,#00b5d6);color:#fff;font-size:12px;padding:0 15px;border:none;text-shadow:1px 1px 0 rgba(0,0,0,.3)}.attachment-panel[_ngcontent-%COMP%]{padding:5px 15px;font-size:20px;text-align:right}.attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{margin:0 0 0 7px;text-decoration:none;color:rgba(0,0,0,.5)}.chatbox-min[_ngcontent-%COMP%]{margin-bottom:-362px}.chatbox-min[_ngcontent-%COMP%]   .chatbox-avatar[_ngcontent-%COMP%]{width:60px;height:60px}.chatbox-min[_ngcontent-%COMP%]   .chat-group-name[_ngcontent-%COMP%], .chatbox-min[_ngcontent-%COMP%]   .chat-partner-name[_ngcontent-%COMP%]{padding:0 0 0 75px}.settings-popup[_ngcontent-%COMP%]{background:#fff;border-radius:20px/10px;box-shadow:0 3px 5px 0 rgba(0,0,0,.2);font-size:13px;opacity:0;padding:10px 0;position:absolute;right:0;text-align:left;top:33px;transition:.15s;transform:scaleY(0);transform-origin:50% 0;width:120px;z-index:2;border-top:1px solid rgba(0,0,0,.2);border-bottom:2px solid rgba(0,0,0,.3)}.settings-popup[_ngcontent-%COMP%]:after, .settings-popup[_ngcontent-%COMP%]:before{border-bottom:7px solid transparent;border-top:none;content:"";position:absolute;left:45px;top:-10px;border-color:rgba(0,0,0,.2) transparent #fff;border-style:solid;border-width:3px 7px 7px}.settings-popup[_ngcontent-%COMP%]:before{border-bottom:7px solid rgba(0,0,0,.25);top:-11px}.settings-popup[_ngcontent-%COMP%]:after{border-top-color:transparent}#chkSettings[_ngcontent-%COMP%]{display:none}#chkSettings[_ngcontent-%COMP%]:checked + .settings-popup[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#999;text-decoration:none;display:block;padding:5px 10px}.settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.chat-partner-name[_ngcontent-%COMP%]{padding-left:50px}@media screen and (max-width:1024px){.chatbox-holder[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width:600px){.outerlayer[_ngcontent-%COMP%]{height:100vh}.chatbox-holder[_ngcontent-%COMP%]{width:100%;height:100vh;margin-bottom:0;position:unset;transform:unset;overflow-x:hidden;z-index:11111}.chatbox[_ngcontent-%COMP%]{box-sizing:content-box;border-radius:unset}.chatbox-top[_ngcontent-%COMP%]{border-radius:0}.chat-input[_ngcontent-%COMP%]{font-size:14px;height:40px}.logo[_ngcontent-%COMP%]{display:none}.message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover, .message-partner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover{width:100%;height:70%;left:0;top:50%;z-index:21;transform:translateY(-50%);background:rgba(0,0,0,.4);position:fixed}.message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .message-partner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:90%;height:50%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;width:90%;justify-content:space-between;margin:5px auto}.settings[_ngcontent-%COMP%]{overflow-x:auto}.nav[_ngcontent-%COMP%]{width:unset!important;min-width:150%!important;flex-wrap:nowrap}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:20px}}*[_ngcontent-%COMP%]{box-sizing:border-box;letter-spacing:1px}input.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:2px solid green}input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:2px solid red}.error[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;color:red}input[_ngcontent-%COMP%]:focus{outline:none}.create-room[_ngcontent-%COMP%]{margin:0 auto;width:80%}.form-control[_ngcontent-%COMP%]{background:#f5f5f5;padding-left:5px}h3[_ngcontent-%COMP%]{letter-spacing:2px}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;left:50%;transform:translateX(-50%)}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.blur-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.3)}#profilepicuploader[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;background:#f5f5f5;color:#000;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:25px;opacity:1}.room-name[_ngcontent-%COMP%]{float:left}.room-cat[_ngcontent-%COMP%]{float:right}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{width:49%;display:inline-block}.room-password-modal[_ngcontent-%COMP%]{width:calc(300px + 8vw);padding:40px 15px;position:fixed;top:-300px;left:50%;transform:translateX(-50%);z-index:99999;background:#ebebeb;box-shadow:4px 4px 8px rgba(0,0,0,.3)}.room-password-modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.room-password-modal[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:20px;cursor:pointer;color:#000;font-weight:500}.room-password-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;text-align:center}.room-password-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%!important;display:block}.room-password-modal[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}.show-modal[_ngcontent-%COMP%]{-webkit-animation:come-down-modal 1s ease-in forwards;animation:come-down-modal 1s ease-in forwards}@-webkit-keyframes come-down-modal{0%{top:-300px}to{top:50px}}@keyframes come-down-modal{0%{top:-300px}to{top:50px}}#sendPic[_ngcontent-%COMP%]{display:none}.attachment-panel[_ngcontent-%COMP%]{position:relative!important;overflow:unset}.emoji-picker[_ngcontent-%COMP%]{position:absolute!important;bottom:100%;right:5px;width:350px;height:400px;z-index:999}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{display:inline-block;width:100%;height:unset;min-height:100%;padding:0}.form-group[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{float:none;display:block}.emoji-picker[_ngcontent-%COMP%]{width:100vw;height:56vh;bottom:340%}}']}),ye);function je(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",39),d.Pb(1,"span",40),d.Xb("click",(function(){d.mc(n);var e=d.bc().$implicit;return d.bc().viewProfile(e.from_id)})),d.tc(2),d.Ob(),d.Ob()}if(2&e){var o=d.bc().$implicit;d.zb(2),d.uc(o.details.name)}}function Le(e,t){1&e&&d.Lb(0,"i",44)}function Se(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",45),d.Lb(1,"img",46),d.Pb(2,"span",40),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.meme.memeData.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",47),d.Ob(),d.Ob()}if(2&e){var o=d.bc(2).$implicit;d.zb(1),d.gc("alt",o.details.meme.memeData.title)}}function Ee(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",45),d.Lb(1,"img",46),d.Pb(2,"span",40),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.picture.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",47),d.Ob(),d.Ob()}2&e&&(d.zb(1),d.gc("alt","sent a photo"))}function Re(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"div",48),d.Pb(2,"div",49),d.Lb(3,"img",50),d.Ob(),d.Pb(4,"div",51),d.Pb(5,"h5"),d.Pb(6,"small"),d.tc(7),d.Ob(),d.Ob(),d.Pb(8,"h6"),d.Pb(9,"small"),d.tc(10),d.Ob(),d.Ob(),d.Pb(11,"a",9),d.tc(12),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&e){var n=d.bc(2).$implicit;d.zb(3),d.gc("src",n.details.previewableLink.image,d.nc),d.zb(4),d.uc(n.details.previewableLink.title),d.zb(3),d.uc(n.details.previewableLink.description.substr(0,50)),d.zb(1),d.gc("href",n.details.previewableLink.url,d.nc),d.zb(1),d.uc(n.details.previewableLink.url)}}function Xe(e,t){if(1&e&&(d.Pb(0,"div",41),d.sc(1,Le,1,0,"i",42),d.sc(2,Se,5,1,"div",43),d.sc(3,Ee,5,1,"div",43),d.tc(4),d.sc(5,Re,13,5,"ng-container",34),d.Ob()),2&e){var n=d.bc().$implicit;d.zb(1),d.gc("ngIf",1==n.details.react.like),d.zb(1),d.gc("ngIf",1==n.details.meme.is),d.zb(1),d.gc("ngIf",!!n.details.picture&&1==n.details.picture.is),d.zb(1),d.vc(" ",n.details.message," "),d.zb(1),d.gc("ngIf",!!n.details.links&&n.details.links.length>0)}}function $e(e,t){1&e&&d.Lb(0,"i",44)}function qe(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",45),d.Lb(1,"img",46),d.Pb(2,"span",40),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.meme.memeData.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",47),d.Ob(),d.Ob()}if(2&e){var o=d.bc(2).$implicit;d.zb(1),d.gc("alt",o.details.meme.memeData.title)}}function Fe(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",45),d.Lb(1,"img",46),d.Pb(2,"span",40),d.Xb("click",(function(e){d.mc(n);var t=d.bc(2).$implicit;return d.bc().downloadFile(e,"image",t.details.picture.url)})),d.tc(3," \xa0 "),d.Lb(4,"img",47),d.Ob(),d.Ob()}2&e&&(d.zb(1),d.gc("alt","sent a photo"))}function Ne(e,t){if(1&e&&(d.Nb(0),d.Pb(1,"div",48),d.Pb(2,"div",49),d.Lb(3,"img",50),d.Ob(),d.Pb(4,"div",51),d.Pb(5,"h5"),d.Pb(6,"small"),d.tc(7),d.Ob(),d.Ob(),d.Pb(8,"h6"),d.Pb(9,"small"),d.tc(10),d.Ob(),d.Ob(),d.Pb(11,"a",9),d.tc(12),d.Ob(),d.Ob(),d.Ob(),d.Mb()),2&e){var n=d.bc(2).$implicit;d.zb(3),d.gc("src",n.details.previewableLink.image,d.nc),d.zb(4),d.uc(n.details.previewableLink.title),d.zb(3),d.uc(n.details.previewableLink.description.substr(0,50)),d.zb(1),d.gc("href",n.details.previewableLink.url,d.nc),d.zb(1),d.uc(n.details.previewableLink.url)}}function De(e,t){if(1&e&&(d.Pb(0,"div",52),d.sc(1,$e,1,0,"i",42),d.sc(2,qe,5,1,"div",43),d.sc(3,Fe,5,1,"div",43),d.tc(4),d.sc(5,Ne,13,5,"ng-container",34),d.Ob()),2&e){var n=d.bc().$implicit;d.zb(1),d.gc("ngIf",1==n.details.react.like),d.zb(1),d.gc("ngIf",1==n.details.meme.is),d.zb(1),d.gc("ngIf",!!n.details.picture&&1==n.details.picture.is),d.zb(1),d.vc(" ",n.details.message," "),d.zb(1),d.gc("ngIf",!!n.details.links&&n.details.links.length>0)}}function Ue(e,t){1&e&&d.Lb(0,"span")}function Te(e,t){if(1&e&&(d.Pb(0,"div",20),d.sc(1,je,3,1,"div",36),d.sc(2,Xe,6,5,"div",37),d.sc(3,De,6,5,"div",38),d.sc(4,Ue,1,0,"span",34),d.Ob()),2&e){var n=t.$implicit,o=d.bc();d.zb(1),d.gc("ngIf",n.from_id!=o.getPublicId()),d.zb(1),d.gc("ngIf",n.from_id!=o.getPublicId()),d.zb(1),d.gc("ngIf",n.from_id==o.getPublicId()),d.zb(1),d.gc("ngIf",o.scrollToBottom())}}function Ae(e,t){1&e&&(d.Pb(0,"div",53),d.tc(1," sending... "),d.Ob())}function Ke(e,t){1&e&&d.Lb(0,"span",54)}function Be(e,t){1&e&&d.Lb(0,"img",55)}function He(e,t){1&e&&(d.Pb(0,"span"),d.tc(1,"MEME"),d.Ob())}function Qe(e,t){1&e&&d.Lb(0,"img",55)}function Ge(e,t){if(1&e){var n=d.Qb();d.Pb(0,"emoji-mart",58),d.Xb("emojiSelect",(function(e){return d.mc(n),d.bc(2).addEmoji(e)})),d.Ob()}if(2&e){var o=d.bc(2);d.hc("set",o.set)}}function Ve(e,t){if(1&e&&(d.Pb(0,"div",56),d.sc(1,Ge,1,1,"emoji-mart",57),d.Ob()),2&e){var n=d.bc();d.zb(1),d.gc("ngIf",n.showEmojiPicker)}}var Ye,Je=function(e){return{width:e}},We=function(e){return{display:e}},Ze=((Ye=function(){function e(t,n,o,i,r){_classCallCheck(this,e),this.router=t,this.ar=n,this.ds=o,this.Httpc=i,this.chatService=r,this.httpURL=u.a.URL,this.unsubscriber$=new b.a,this.createMessage="",this.messageList=[],this.members={},this.loadingMessage=[],this.group=1,this.loadingMeme=0,this.loadingPic=0,this.random=0,this.showEmojiPicker=!1,this.sets=["native","google","twitter","facebook","emojione","apple","messenger"],this.set="twitter",this.progressObj={progress:0,showProgress:!1}}return _createClass(e,[{key:"toggleEmojiPicker",value:function(e){e.preventDefault(),this.showEmojiPicker=!this.showEmojiPicker,window.innerWidth<700&&window.scrollTo(0,document.body.scrollHeight)}},{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show"),this.ar.queryParamMap.subscribe((function(t){localStorage.getItem("email")&&e.Httpc.get(e.httpURL+"get-details/"+localStorage.getItem("email")).pipe(Object(p.a)(e.unsubscriber$)).subscribe((function(n){"200"==n.status&&(e.ds.filldetails(n.data),e.connectionObserver=e.chatService.privateConnect(t.get("roomCode")).pipe(Object(p.a)(e.unsubscriber$)).subscribe((function(t){var n;e.chat_name=t.friendData.firstname+" "+t.friendData.lastname,e.roomPic=e.httpURL+t.friendData.proPic,e.isReceiverOnline=t.isReceiverOnline,(n=e.messageList).push.apply(n,_toConsumableArray(t.newMessagesViaFriend)),e.chatService.seen()}),(function(e){console.log("error")}),(function(){console.log("completed")})),e.ds.spinnerControl("hide"),e.ds.spinnerControl("hide"))}))}),(function(t){alert("some error has occured please go back and try again"),e.ds.spinnerControl("hide")})),this.messageObserver=this.chatService.getMessages().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){var n=(t=JSON.parse(t)).details.message.match(/\b(http|https)?:\/\/\S+/gi)||[];if(n.length>0){var o={};e.Httpc.get("https://api.linkpreview.net?key="+u.a.linkPreviewApi+"&&q="+n[0]).subscribe((function(i){o=i,t.details.previewableLink=o,t.details.links=n,e.messageList.push(t),t.from_id==e.getPublicId()&&e.loadingMessage.shift()}))}else t.details.links=n,e.messageList.push(t),t.from_id==e.getPublicId()&&e.loadingMessage.shift()})),this.membersObserver=this.chatService.getMembers().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){e.roomMembers=t.memberCount,e.members=t.allMemberDetails})),this.rejectionObserver=this.chatService.rejected().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){alert(t.message),e.router.navigate(["/dashboardmodule/chat"])})),this.banObserver=this.chatService.removed().pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){1==t.ban&&(alert("sorry! you were removed by the admin"),e.router.navigate(["/dashboardmodule/chat"]))})),document.getElementsByClassName("header")[0].style.display="none",document.getElementsByClassName("chatzonesidenav")[0].style.display="none",console.log("helleo")}},{key:"ngOnDestroy",value:function(){var e=document.getElementsByClassName("show-spinner")[0];e.style.display="block",this.connectionObserver.unsubscribe(),this.messageObserver.unsubscribe(),this.membersObserver.unsubscribe(),this.rejectionObserver.unsubscribe(),this.banObserver.unsubscribe(),this.chatService.closeChat(),this.unsubscriber$.next(),this.unsubscriber$.complete(),document.getElementsByClassName("header")[0].style.display="block",document.getElementsByClassName("chatzonesidenav")[0].style.display="flex",e.style.display="none"}},{key:"performExit",value:function(){this.messageObserver.unsubscribe(),document.getElementsByClassName("header")[0].style.display="block",document.getElementsByClassName("chatzonesidenav")[0].style.display="flex",this.router.navigate(["/dashboardmodule/chat"])}},{key:"getPublicId",value:function(){return localStorage.getItem("userUniqueId")}},{key:"scrollToBottom",value:function(){var e=document.getElementsByClassName("chat-messages")[0];return e.scrollTop=e.scrollHeight,!1}},{key:"viewProfile",value:function(e){this.router.navigate(["/dashboardmodule/view-profile"],{queryParams:{id:e}})}},{key:"showGroupMenu",value:function(e){e.preventDefault(),document.getElementsByClassName("menu")[0].style.display="inline-block"}},{key:"hideGroupMenu",value:function(){document.getElementsByClassName("menu")[0].style.display="none"}},{key:"removeMember",value:function(e){this.chatService.removeMember({id:e})}},{key:"checkIfEnter",value:function(e){13==((e=e||window.event).keyCode||e.which)&&(e.preventDefault(),this.sendMessage())}},{key:"sendMessage",value:function(){""!=this.createMessage&&(this.loadingMessage.push("1"),this.chatService.sendMessage({from_id:localStorage.getItem("userUniqueId"),toPrivate:!0,files:!0,details:{name:this.ds.details.FullName,message:this.createMessage,react:{like:0},meme:{is:0,memeData:""}}}),this.createMessage="")}},{key:"sendLike",value:function(e){e.preventDefault(),this.loadingMessage.push("1"),this.chatService.sendMessage({from_id:localStorage.getItem("userUniqueId"),toPrivate:!0,files:!0,details:{name:this.ds.details.FullName,message:"",react:{like:1},meme:{is:0,memeData:""}}})}},{key:"sendMeme",value:function(e){var t=this;e.preventDefault(),this.loadingMeme=1,this.Httpc.get("https://meme-api.herokuapp.com/gimme").pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){""!=e.url&&0==e.nsfw&&(t.chatService.sendMessage({from_id:localStorage.getItem("userUniqueId"),toPrivate:!0,files:!0,details:{name:t.ds.details.FullName,message:"",react:"",meme:{is:1,memeData:e}}}),t.loadingMeme=0)}),(function(e){alert("Sorry, Can't send maymay right now"),t.loadingMeme=0}))}},{key:"selectPicture",value:function(e,t){e.preventDefault(),t.click()}},{key:"uploadPicture",value:function(e){var t=this,n=e.target.files[0],o=new FormData;this.loadingPic=1,o.append("messagePic",n,localStorage.getItem("email")),this.Httpc.post(this.httpURL+"message-picture",o,{reportProgress:!0,observe:"events"}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(e){switch(e.type){case m.c.Sent:console.log("request has been sent");break;case m.c.ResponseHeader:console.log("response header has been received");break;case m.c.UploadProgress:t.progressObj.progress=Math.round(e.loaded/e.total*100),console.log("uploaded"+t.progressObj.progress+"%");break;case m.c.Response:setTimeout((function(){return t.progressObj.showProgress=!1}),1500),e.body.status?t.sendPicture(e.body.messagePic):t.loadingPic=0}}),(function(e){t.progressObj.showProgress=!1,console.log("sorry failed to send the message")}))}},{key:"sendPicture",value:function(e){this.chatService.sendMessage({from_id:localStorage.getItem("userUniqueId"),toPrivate:!0,files:!0,details:{name:this.ds.details.FullName,message:"",react:{like:0},meme:{is:0,memeData:""},picture:{is:1,url:e}}}),this.loadingPic=0}},{key:"downloadFile",value:function(e,t,n){e.target.parentElement.parentElement.firstElementChild.setAttribute("src",n),e.target.style.display="none"}},{key:"changePrivacy",value:function(e){this.roomPrivacy=e.target.options[e.target.selectedIndex].value}},{key:"showEmoji",value:function(e,t){e.preventDefault(),t.style.display="block"}},{key:"emojiadd",value:function(e,t){t.value+=" "+e.target.innerText}},{key:"addEmoji",value:function(e){this.createMessage=""+this.createMessage+e.emoji.native}},{key:"onFocus",value:function(){this.showEmojiPicker=!1}},{key:"onBlur",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Ye)(d.Kb(l.e),d.Kb(l.a),d.Kb(v.a),d.Kb(m.a),d.Kb(O))},Ye.\u0275cmp=d.Eb({type:Ye,selectors:[["app-private-chat"]],decls:46,vars:28,consts:[[1,""],[1,"progress","upload-progress-bar",3,"hidden"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],[1,"outerlayer","bg-dark"],[1,"logo"],[1,"chatbox-holder"],[1,"chatbox"],[1,"chatbox-top"],[1,"chatbox-avatar"],["target","_blank",3,"href"],[3,"src"],[1,"chat-partner-name"],["href","#",3,"click"],[1,"status","online"],[1,"chatbox-icons"],[3,"click"],[1,"fa","fa-close"],[1,"chat-messages"],[1,"text-center","mb-2",2,"width","100vw"],["class","message-box-holder",4,"ngFor","ngForOf"],[1,"message-box-holder"],["class","message-box text-dark",4,"ngFor","ngForOf"],[1,"chat-input-holder"],["placeholder","enter message here... ",1,"chat-input",3,"ngModel","ngModelChange","keypress"],["writeArea",""],["type","submit","value","Send",1,"message-send",3,"click"],[1,"attachment-panel"],["href","#",1,"fa","fa-thumbs-up","ld","ld-zoom-in",3,"click"],["href","#",1,"",3,"click"],["class","fa fa-camera",4,"ngIf"],["src","../../assets/icons/Infinity-1.9s-221px.png","style","width:25px; height:25px;","alt","loading....",4,"ngIf"],["type","file","name","sendPic","id","sendPic",3,"change"],["sendPic",""],["href","#",1,"ld","ld-zoom-in",3,"click"],[4,"ngIf"],["class","emoji-picker",4,"ngIf"],["class","message-sender",4,"ngIf"],["class","message-box message-partner ld ld-throw-btt-in","style","animation-duration: 0.5s;",4,"ngIf"],["class","message-box bg-dark text-white",4,"ngIf"],[1,"message-sender"],[2,"cursor","pointer",3,"click"],[1,"message-box","message-partner","ld","ld-throw-btt-in",2,"animation-duration","0.5s"],["class","fa fa-thumbs-up","style","animation-duration: 1s;",4,"ngIf"],["class","img",4,"ngIf"],[1,"fa","fa-thumbs-up",2,"animation-duration","1s"],[1,"img"],["src","",3,"alt"],["src","assets/icons/down-arrow.png","alt","download icon",2,"width","25px","height","25px"],[1,"preview-link"],[1,"image"],["alt","",3,"src"],[1,"desc"],[1,"message-box","bg-dark","text-white"],[1,"message-box","text-dark"],[1,"fa","fa-camera"],["src","../../assets/icons/Infinity-1.9s-221px.png","alt","loading....",2,"width","25px","height","25px"],[1,"emoji-picker"],["class","emoji-mart","title","Pick your emoji\u2026",3,"set","emojiSelect",4,"ngIf"],["title","Pick your emoji\u2026",1,"emoji-mart",3,"set","emojiSelect"]],template:function(e,t){if(1&e){var n=d.Qb();d.Pb(0,"body",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.tc(3,"uploading..."),d.Ob(),d.Ob(),d.Pb(4,"div",3),d.Pb(5,"h2",4),d.tc(6,"Chating App"),d.Ob(),d.Pb(7,"div",5),d.Pb(8,"div",6),d.Pb(9,"div",7),d.Pb(10,"div",8),d.Pb(11,"a",9),d.Lb(12,"img",10),d.Ob(),d.Ob(),d.Pb(13,"div",11),d.Pb(14,"a",12),d.Xb("click",(function(e){return t.showGroupMenu(e)})),d.tc(15),d.Ob(),d.tc(16," \xa0 "),d.Lb(17,"span",13),d.Ob(),d.Pb(18,"div",14),d.Pb(19,"a",15),d.Xb("click",(function(){return t.performExit()})),d.Pb(20,"i",16),d.tc(21,"\xa0 Exit"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(22,"div",17),d.Pb(23,"h5",18),d.Pb(24,"small"),d.tc(25,"start messaging..."),d.Ob(),d.Ob(),d.sc(26,Te,5,4,"div",19),d.Pb(27,"div",20),d.sc(28,Ae,2,0,"div",21),d.Ob(),d.Ob(),d.Pb(29,"div",22),d.Pb(30,"textarea",23,24),d.Xb("ngModelChange",(function(e){return t.createMessage=e}))("keypress",(function(e){return t.checkIfEnter(e)})),d.Ob(),d.Pb(32,"input",25),d.Xb("click",(function(){return t.sendMessage()})),d.Ob(),d.Ob(),d.Pb(33,"div",26),d.Pb(34,"a",27),d.Xb("click",(function(e){return t.sendLike(e)})),d.Ob(),d.Pb(35,"a",28),d.Xb("click",(function(e){d.mc(n);var o=d.lc(39);return t.selectPicture(e,o)})),d.sc(36,Ke,1,0,"span",29),d.sc(37,Be,1,0,"img",30),d.Ob(),d.Pb(38,"input",31,32),d.Xb("change",(function(e){return t.uploadPicture(e)})),d.Ob(),d.Pb(40,"a",33),d.Xb("click",(function(e){return t.sendMeme(e)})),d.sc(41,He,2,0,"span",34),d.sc(42,Qe,1,0,"img",30),d.Ob(),d.Pb(43,"a",28),d.Xb("click",(function(e){return t.toggleEmojiPicker(e)})),d.tc(44,"\ud83d\ude00"),d.Ob(),d.sc(45,Ve,2,1,"div",35),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}2&e&&(d.zb(1),d.gc("hidden",!t.progressObj.showProgress),d.zb(1),d.qc(d.ic(20,Je,t.progressObj.progress+"%")),d.zb(8),d.qc(d.ic(22,We,"")),d.zb(1),d.gc("href",t.roomPic,d.nc),d.zb(1),d.gc("src",t.roomPic,d.nc),d.zb(1),d.qc(d.ic(24,We,"")),d.zb(2),d.vc(" ",t.chat_name,""),d.zb(2),d.qc(d.ic(26,We,t.isReceiverOnline?"inline-block":"none")),d.zb(9),d.gc("ngForOf",t.messageList),d.zb(2),d.gc("ngForOf",t.loadingMessage),d.zb(2),d.gc("ngModel",t.createMessage),d.zb(6),d.gc("ngIf",0==t.loadingPic),d.zb(1),d.gc("ngIf",t.loadingPic),d.zb(4),d.gc("ngIf",0==t.loadingMeme),d.zb(1),d.gc("ngIf",t.loadingMeme),d.zb(3),d.gc("ngIf",t.showEmojiPicker))},directives:[c.i,j.a,j.f,j.i,c.j,J.a],styles:['*[_ngcontent-%COMP%]{overflow-x:hidden}body[_ngcontent-%COMP%]{box-sizing:border-box;min-height:100vh;margin:0;background-color:#cac1c1;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}#con[_ngcontent-%COMP%]{display:none;position:absolute;top:50%;left:50%;z-index:111;transform:translate(-50%,-50%);box-shadow:3px 3px 5px rgba(0,0,0,.5)}.emojiPicker[_ngcontent-%COMP%]{width:296px;border:none;background-color:#f0f8ff;box-shadow:2px 2px 5px -1px rgba(0,0,0,.75)}.emojis[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.emojiFrame[_ngcontent-%COMP%]{box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;text-align:center;cursor:pointer;width:30px;font-size:21px;padding:3px;margin:3px;background-color:transparent;transform:scale(.9);transition:background-color .2s,transform .1s}.emojiFrame[_ngcontent-%COMP%]:hover{background-color:#0d8cfc}.emojiFrame[_ngcontent-%COMP%]:active{background-color:#4babff;transform:scale(.95)}.close[_ngcontent-%COMP%]{position:absolute;top:4px;right:10px;cursor:pointer}*[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%]{font-family:Times New Roman,Times,serif}.preview-link[_ngcontent-%COMP%]{display:flex;flex-direction:row}.preview-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{width:200px;height:100px;overflow:hidden;padding:5px}.preview-link[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.preview-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:16px}.upload-progress-bar[_ngcontent-%COMP%]{width:200px;height:15px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}.progress-bar[_ngcontent-%COMP%]{width:100%;height:15px}body[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:14px;color:#999;word-wrap:break-word;height:100vh;background:#bab8c8;background:radial-gradient(circle,#bab8c8 0,#f4f4f4 100%)}.outerlayer[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;position:fixed}.outerlayer[_ngcontent-%COMP%]{height:40vh}ul[_ngcontent-%COMP%]{list-style:none}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0}.logo[_ngcontent-%COMP%]{color:#fff;padding:10px 20px;font-size:25px}.chatbox-holder[_ngcontent-%COMP%]{position:fixed;z-index:11111;top:50%;left:50%;width:60%;height:90%;transform:translate(-50%,-50%);display:flex;justify-content:center;padding:0;box-shadow:1px 3px 10px rgba(114,108,108,.2);overflow-x:hidden}.chatbox[_ngcontent-%COMP%]{margin:0;box-sizing:content-box;box-shadow:0 0 5px 0 rgba(0,0,0,.2);flex-flow:column;background:#fff;bottom:0;transition:.1s ease-out;width:100%;height:100%}.chatbox[_ngcontent-%COMP%], .chatbox-top[_ngcontent-%COMP%]{position:relative;display:flex;border-radius:0}.chatbox-top[_ngcontent-%COMP%]{padding:10px 0;background:rgba(0,0,0,.05)}.chatbox-icons[_ngcontent-%COMP%]{padding:0 10px 0 0;display:flex;position:relative;cursor:pointer}.chatbox-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{background:rgba(220,0,0,.6);padding:3px 5px;margin:0 0 0 3px;color:#fff;border-radius:0 5px 0 5px;transition:.3s}.chatbox-icons[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]:hover{border-radius:5px 0 5px 0;background:#dc0000}.chatbox-icoins[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#fff;text-decoration:none}.chatbox-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:5px;font-size:16px}.chat-group-name[_ngcontent-%COMP%], .chat-partner-name[_ngcontent-%COMP%]{flex:1;padding:0 0 0 95px;font-size:15px;font-weight:700;color:#30649c;text-shadow:1px 1px 0 #fff;transition:.1s ease-out}.status[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;display:inline-block;box-shadow:inset 0 0 3px 0 rgba(0,0,0,.2);border:1px solid rgba(0,0,0,.15);background:#cacaca;margin:0 3px 0 0}.online[_ngcontent-%COMP%]{background:#b7fb00}.away[_ngcontent-%COMP%]{background:#ffae00}.donot-disturb[_ngcontent-%COMP%]{background:#ff4343}.chatbox-avatar[_ngcontent-%COMP%]{width:35px;height:35px;overflow:hidden;border-radius:50%;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.2);position:absolute;transition:.1s ease-out;top:50%;left:6px;transform:translateY(-50%)}.chatbox-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.chat-messages[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.05);padding:10px;overflow:auto;display:flex;flex-flow:row wrap;align-content:flex-start;flex:1;scrollbar-width:none;position:relative}.menu[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:none;height:100%;width:100%;background:hsla(0,0%,100%,.9);z-index:1111}.menu[_ngcontent-%COMP%]   .closeMenu[_ngcontent-%COMP%]{display:inline-block;top:10px;right:20px;cursor:pointer;color:red}.menu[_ngcontent-%COMP%]   .closeMenu[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{position:absolute;font-size:20px}.menu[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{left:50%;width:80%;margin-top:20px;transform:translate(-50%);color:#000;letter-spacing:1px}.member-controls[_ngcontent-%COMP%]{height:55vh;margin:10px;overflow:auto;scrollbar-width:none;cursor:all-scroll}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;width:60%;justify-content:space-between;margin:5px auto}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{letter-spacing:1px}.message-box-holder[_ngcontent-%COMP%]{width:100%;padding:10px 6px;display:flex;flex-flow:column;align-items:flex-end}.message-sender[_ngcontent-%COMP%]{font-size:12px;margin:0 0 15px;color:#30649c;align-self:flex-start}.chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .chat-partner-name[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited, .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .message-sender[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#30649c;text-decoration:none}.message-box[_ngcontent-%COMP%]{padding:6px 10px;overflow-y:hidden;border-radius:6px 0 6px 0;position:relative;background:rgba(100,170,0,.1);border:2px solid rgba(100,170,0,.1);color:#000;font-size:18px;letter-spacing:0;text-shadow:2px 2px 4px rgba(0,0,0,.2);box-shadow:2px 2px 5px rgba(0,0,0,.4);max-width:60%}.message-box[_ngcontent-%COMP%]:after{content:"";position:absolute;border:10px solid transparent;border-top-color:rgba(100,170,0,.2);border-right:none;bottom:-22px;right:10px}.message-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;cursor:pointer}.message-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{width:300px;height:300px}.message-partner[_ngcontent-%COMP%]{align-self:flex-start;background:#f5f5f5;box-shadow:2px 2px 6px rgba(0,0,0,.5)}.message-partner[_ngcontent-%COMP%]:after{right:auto;bottom:auto;top:-22px;left:9px;border:10px solid transparent;border-left:none}.chat-input-holder[_ngcontent-%COMP%]{display:flex;border-top:1px solid rgba(0,0,0,.1)}.chat-input[_ngcontent-%COMP%]{resize:none;padding:5px 10px;height:60px;font-family:Lato,sans-serif;font-size:18px;color:#000;flex:1;background:rgba(0,0,0,.05);border:none;border-bottom:1px solid rgba(0,0,0,.05)}.chat-input[_ngcontent-%COMP%]:focus, .message-send[_ngcontent-%COMP%]:focus{outline:none}.message-send[_ngcontent-%COMP%]::-moz-focus-inner{border:0;padding:0}.message-send[_ngcontent-%COMP%]{-webkit-appearance:none;background:#9cc900;background:linear-gradient(180deg,#00d8ff,#00b5d6);color:#fff;font-size:12px;padding:0 15px;border:none;text-shadow:1px 1px 0 rgba(0,0,0,.3)}.attachment-panel[_ngcontent-%COMP%]{padding:5px 15px;font-size:20px;text-align:right}.attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .attachment-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{margin:0 0 0 7px;text-decoration:none;color:rgba(0,0,0,.5)}.chatbox-min[_ngcontent-%COMP%]{margin-bottom:-362px}.chatbox-min[_ngcontent-%COMP%]   .chatbox-avatar[_ngcontent-%COMP%]{width:60px;height:60px}.chatbox-min[_ngcontent-%COMP%]   .chat-group-name[_ngcontent-%COMP%], .chatbox-min[_ngcontent-%COMP%]   .chat-partner-name[_ngcontent-%COMP%]{padding:0 0 0 75px}.settings-popup[_ngcontent-%COMP%]{background:#fff;border-radius:20px/10px;box-shadow:0 3px 5px 0 rgba(0,0,0,.2);font-size:13px;opacity:0;padding:10px 0;position:absolute;right:0;text-align:left;top:33px;transition:.15s;transform:scaleY(0);transform-origin:50% 0;width:120px;z-index:2;border-top:1px solid rgba(0,0,0,.2);border-bottom:2px solid rgba(0,0,0,.3)}.settings-popup[_ngcontent-%COMP%]:after, .settings-popup[_ngcontent-%COMP%]:before{border-bottom:7px solid transparent;border-top:none;content:"";position:absolute;left:45px;top:-10px;border-color:rgba(0,0,0,.2) transparent #fff;border-style:solid;border-width:3px 7px 7px}.settings-popup[_ngcontent-%COMP%]:before{border-bottom:7px solid rgba(0,0,0,.25);top:-11px}.settings-popup[_ngcontent-%COMP%]:after{border-top-color:transparent}#chkSettings[_ngcontent-%COMP%]{display:none}#chkSettings[_ngcontent-%COMP%]:checked + .settings-popup[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:link, .settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:visited{color:#999;text-decoration:none;display:block;padding:5px 10px}.settings-popup[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.05)}.chat-partner-name[_ngcontent-%COMP%]{padding-left:50px}@media screen and (max-width:1024px){.chatbox-holder[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width:600px){.outerlayer[_ngcontent-%COMP%]{height:100vh}.chatbox-holder[_ngcontent-%COMP%]{width:100%;height:100vh;margin-bottom:0;position:unset;transform:unset;overflow-x:hidden;z-index:11111}.chatbox[_ngcontent-%COMP%]{box-sizing:content-box;border-radius:unset}.chatbox-top[_ngcontent-%COMP%]{border-radius:0}.chat-input[_ngcontent-%COMP%]{font-size:14px;height:40px}.logo[_ngcontent-%COMP%]{display:none}.message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover, .message-partner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover{width:100%;height:70%;left:0;top:50%;z-index:21;transform:translateY(-50%);background:rgba(0,0,0,.4);position:fixed}.message-box[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%], .message-partner[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{width:90%;height:50%;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.member-controls[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;width:90%;justify-content:space-between;margin:5px auto}.settings[_ngcontent-%COMP%]{overflow-x:auto}.nav[_ngcontent-%COMP%]{width:unset!important;min-width:150%!important;flex-wrap:nowrap}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:20px}}*[_ngcontent-%COMP%]{box-sizing:border-box;letter-spacing:1px}input.ng-valid[_ngcontent-%COMP%], textarea.ng-valid[_ngcontent-%COMP%]{border-left:2px solid green}input.ng-invalid[_ngcontent-%COMP%], textarea.ng-invalid[_ngcontent-%COMP%]{border-left:2px solid red}.error[_ngcontent-%COMP%]{font-size:16px;margin-left:5px;color:red}input[_ngcontent-%COMP%]:focus{outline:none}.create-room[_ngcontent-%COMP%]{margin:0 auto;width:80%}.form-control[_ngcontent-%COMP%]{background:#f5f5f5;padding-left:5px}h3[_ngcontent-%COMP%]{letter-spacing:2px}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;left:50%;transform:translateX(-50%)}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.blur-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.3)}#profilepicuploader[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;background:#f5f5f5;color:#000;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:25px;opacity:1}.room-name[_ngcontent-%COMP%]{float:left}.room-cat[_ngcontent-%COMP%]{float:right}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{width:49%;display:inline-block}.room-password-modal[_ngcontent-%COMP%]{width:calc(300px + 8vw);padding:40px 15px;position:fixed;top:-300px;left:50%;transform:translateX(-50%);z-index:99999;background:#ebebeb;box-shadow:4px 4px 8px rgba(0,0,0,.3)}.room-password-modal[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#000}.room-password-modal[_ngcontent-%COMP%]   .close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:20px;cursor:pointer;color:#000;font-weight:500}.room-password-modal[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;text-align:center}.room-password-modal[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%!important;display:block}.room-password-modal[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{width:100%}.show-modal[_ngcontent-%COMP%]{-webkit-animation:come-down-modal 1s ease-in forwards;animation:come-down-modal 1s ease-in forwards}@-webkit-keyframes come-down-modal{0%{top:-300px}to{top:50px}}@keyframes come-down-modal{0%{top:-300px}to{top:50px}}#sendPic[_ngcontent-%COMP%]{display:none}.attachment-panel[_ngcontent-%COMP%]{position:relative!important;overflow:unset}.emoji-picker[_ngcontent-%COMP%]{position:absolute!important;bottom:100%;right:5px;width:350px;height:400px;z-index:999}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{display:inline-block;width:100%;height:unset;min-height:100%;padding:0}.form-group[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.room-cat[_ngcontent-%COMP%], .room-name[_ngcontent-%COMP%]{float:none;display:block}.emoji-picker[_ngcontent-%COMP%]{width:100vw;height:56vh;bottom:340%}}']}),Ye);function et(e,t){1&e&&d.Lb(0,"span",45)}function tt(e,t){1&e&&(d.Pb(0,"span",45),d.tc(1," *Please enter new password between 8 to 15 characters"),d.Ob())}var nt,ot=function(e){return{width:e}},it=((nt=function(){function e(t,n){_classCallCheck(this,e),this.ds=t,this.Httpc=n,this.httpURL=u.a.URL,this.unsubscriber$=new b.a,this.showProgress=!1,this.progress=0,this.about="",this.gender="",this.showModal=!1,this.showValidation=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show");var t=0;this.Httpc.get(this.httpURL+"profile-picture/"+localStorage.getItem("email")).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(n){1==n.success&&(e.proPic_src=null!=n.proPic_src?e.httpURL+n.proPic_src:"assets/icons/account.png",2==(t+=1)&&e.ds.spinnerControl("hide"))}),(function(n){e.proPic_src="assetsiconsaccount.png",2==(t+=1)&&e.ds.spinnerControl("hide")})),localStorage.getItem("email")&&this.Httpc.get(this.httpURL+"get-details/"+localStorage.getItem("email")).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(n){"200"==n.status?(e.ds.filldetails(n.data),e.FullName=n.data.FullName,e.email=n.data.email,e.password="********",e.about=n.data.about,e.gender=n.data.gender,2==(t+=1)&&e.ds.spinnerControl("hide")):2==(t+=1)&&e.ds.spinnerControl("hide")}),(function(t){console.log(t),e.ds.spinnerControl("hide")}))}},{key:"changeGender",value:function(e){this.gender=e.target.options[e.target.selectedIndex].value}},{key:"fileSelectAndUpload",value:function(e){var t=this;this.showProgress=!0,this.SelectedProPic=e.target.files[0],console.log(this.SelectedProPic);var n=new FormData;n.append("profilePic",this.SelectedProPic,localStorage.getItem("email")),this.Httpc.post(this.httpURL+"upload-profile-picture/"+localStorage.getItem("email"),n,{reportProgress:!0,observe:"events"}).subscribe((function(e){switch(e.type){case m.c.Sent:console.log("request has been sent");break;case m.c.ResponseHeader:console.log("response header has been received");break;case m.c.UploadProgress:t.progress=Math.round(e.loaded/e.total*100),console.log("uploaded"+t.progress+"%");break;case m.c.Response:setTimeout((function(){return t.showProgress=!1}),1500),alert("profile picture uploaded"),t.proPic_src=e.body.proPic_src}t.ds.spinnerControl("hide")}),(function(e){t.showProgress=!1,alert("sorry couldn't upload the profile picture")}))}},{key:"password_change",value:function(e){e.preventDefault(),this.showModal=!0}},{key:"confirm_password_change",value:function(){var e=this;this.ds.change_password({oldPassword:this.oldPassword,newPassword:this.newPassword}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){1==t.status?(alert("current password is changed"),e.newPassword="",e.oldPassword="",e.showModal=!1):alert(t.message)}),(function(e){console.log("error")}),(function(){console.log("password change successfull")}))}},{key:"hideValidation",value:function(){return this.showValidation=!1,!1}},{key:"savedetails",value:function(){var e=this;this.ds.spinnerControl("show");var t={firstName:this.FullName.split(" ")[0],lastName:this.FullName.split(" ")[1]||"",password:this.password,gender:this.gender,about:this.about};this.Httpc.post(this.httpURL+"save-details/"+localStorage.getItem("email"),t).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){e.ds.spinnerControl("hide"),alert("details has been saved")}))}},{key:"cancelChanges",value:function(){this.FullName=this.ds.details.FullName,this.email=this.ds.details.email,this.password=this.ds.details.password,this.about=this.ds.details.about,this.gender=this.ds.details.gender}},{key:"ngOnDestroy",value:function(){this.unsubscriber$.next(),this.unsubscriber$.complete()}}]),e}()).\u0275fac=function(e){return new(e||nt)(d.Kb(v.a),d.Kb(m.a))},nt.\u0275cmp=d.Eb({type:nt,selectors:[["app-profile"]],decls:74,vars:21,consts:[[1,"container"],[1,"row"],[1,"col-12","mt-5","mt-md-3"],[1,"text-center","mb-3"],[1,"profile-container"],[1,"progress","upload-progress-bar",3,"hidden"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated"],[1,"profile-pic"],["alt","",3,"src"],["type","file","name","propic","id","propic","accept","image/*",3,"change"],["imageFile",""],[1,"blur-bg"],["id","profilepicuploader",1,"btn",3,"click"],[1,"details"],["action",""],[1,"form-group"],["for","email",1,"form-label","text-center"],["for","fullname",1,"form-label"],["type","text","name","fullName","placeholder","change name",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","placeholder","hello","name","password","ngModel","",1,"form-control",3,"ngModel","ngModelChange","click"],["currentPassword","ngModel"],["for","about",1,"form-label"],["name","about","id","about","cols","30","rows","3","placeholder","Enter something about your self",1,"form-control",3,"ngModel","ngModelChange"],["for","gender",1,"form-label"],["name","gender",1,"form-control",3,"change"],["value","",3,"selected"],["value","male",3,"selected"],["value","female",3,"selected"],["value","no",3,"selected"],[1,"buttons","text-center","mb-5"],[1,"btn","btn-cancel","border-danger","py-2","px-3","my-3",3,"click"],[1,"btn","btn-save","btn-dark","py-2","px-4","ml-2","my-3",3,"click"],[1,"password-change-modal"],[1,"form-container"],[1,"close-modal",3,"click"],[1,"text-center","text-white","mb-3"],["action","",1,"form"],["passwordChangeForm","ngForm"],["type","password","required","","placeholder","enter current Password","name","oldpassword","ngModel","",1,"form-control",3,"ngModel","ngModelChange"],["oldpassword","ngModel"],["class","error",4,"ngIf"],["type","password","required","","placeholder","enter new Password","minlength","8","maxlength","15","name","passwordd","ngModel","",1,"form-control",3,"ngModel","ngModelChange","focus"],["newpassword","ngModel"],[1,"btn","btn-primary","text-white","mt-3","py-2","px-lg-5","px-2",3,"disabled","click"],[1,"error"]],template:function(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"h2",3),d.Pb(4,"small"),d.tc(5,"Edit Your Profile"),d.Ob(),d.Ob(),d.Pb(6,"div",4),d.Pb(7,"div",5),d.Pb(8,"div",6),d.tc(9,"uploading..."),d.Ob(),d.Ob(),d.Pb(10,"div",7),d.Lb(11,"img",8),d.Pb(12,"input",9,10),d.Xb("change",(function(e){return t.fileSelectAndUpload(e)})),d.Ob(),d.Pb(14,"div",11),d.Pb(15,"div",12),d.Xb("click",(function(){return d.mc(n),d.lc(13).click()})),d.tc(16,"+"),d.Ob(),d.Ob(),d.Ob(),d.Pb(17,"div",13),d.Pb(18,"form",14),d.Pb(19,"div",15),d.Pb(20,"label",16),d.tc(21),d.Ob(),d.Ob(),d.Pb(22,"div",15),d.Pb(23,"label",17),d.tc(24,"Full Name: "),d.Pb(25,"input",18),d.Xb("ngModelChange",(function(e){return t.FullName=e})),d.Ob(),d.Ob(),d.Ob(),d.Pb(26,"div",15),d.Pb(27,"label",19),d.tc(28,"Password: "),d.Pb(29,"input",20,21),d.Xb("ngModelChange",(function(e){return t.password=e}))("click",(function(e){return t.password_change(e)})),d.Ob(),d.Ob(),d.Ob(),d.Pb(31,"div",15),d.Pb(32,"label",22),d.tc(33,"About Yourself:"),d.Pb(34,"textarea",23),d.Xb("ngModelChange",(function(e){return t.about=e})),d.Ob(),d.Ob(),d.Ob(),d.Pb(35,"div",15),d.Pb(36,"label",24),d.tc(37,"Gender: "),d.Pb(38,"select",25),d.Xb("change",(function(e){return t.changeGender(e)})),d.Pb(39,"option",26),d.tc(40,"Select Gender"),d.Ob(),d.Pb(41,"option",27),d.tc(42,"Male"),d.Ob(),d.Pb(43,"option",28),d.tc(44,"Female"),d.Ob(),d.Pb(45,"option",29),d.tc(46,"Hide Gender"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(47,"div",30),d.Pb(48,"div",31),d.Xb("click",(function(){return t.cancelChanges()})),d.tc(49,"cancel"),d.Ob(),d.Pb(50,"div",32),d.Xb("click",(function(){return t.savedetails()})),d.Pb(51,"span"),d.tc(52,"Save"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Pb(53,"div",33),d.Pb(54,"div",34),d.Pb(55,"div",35),d.Xb("click",(function(){return t.showModal=!1})),d.tc(56," X "),d.Ob(),d.Pb(57,"h2",36),d.Pb(58,"small"),d.tc(59,"Change password"),d.Ob(),d.Ob(),d.Pb(60,"form",37,38),d.Pb(62,"div",15),d.Pb(63,"label",19),d.Pb(64,"input",39,40),d.Xb("ngModelChange",(function(e){return t.oldPassword=e})),d.Ob(),d.Ob(),d.sc(66,et,1,0,"span",41),d.Ob(),d.Pb(67,"div",15),d.Pb(68,"label",19),d.Pb(69,"input",42,43),d.Xb("ngModelChange",(function(e){return t.newPassword=e}))("focus",(function(){return t.showValidation=!0})),d.Ob(),d.Ob(),d.sc(71,tt,2,0,"span",41),d.Ob(),d.Pb(72,"button",44),d.Xb("click",(function(){return t.confirm_password_change()})),d.tc(73,"confirm change"),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()}if(2&e){var o=d.lc(61),i=d.lc(65),r=d.lc(70);d.zb(7),d.gc("hidden",!t.showProgress),d.zb(1),d.qc(d.ic(19,ot,t.progress+"%")),d.zb(3),d.gc("src",t.proPic_src,d.nc),d.zb(10),d.vc(" ",t.email," "),d.zb(4),d.gc("ngModel",t.FullName),d.zb(4),d.gc("ngModel",t.password),d.zb(5),d.gc("ngModel",t.about),d.zb(5),d.gc("selected",""==t.gender),d.zb(2),d.gc("selected","male"==t.gender),d.zb(2),d.gc("selected","female"==t.gender),d.zb(2),d.gc("selected","no"==t.gender),d.zb(8),d.Cb("show-modal",t.showModal),d.zb(11),d.gc("ngModel",t.oldPassword),d.zb(2),d.gc("ngIf",i.invalid&&i.touched),d.zb(3),d.gc("ngModel",t.newPassword),d.zb(2),d.gc("ngIf",t.showValidation||r.invalid),d.zb(1),d.gc("disabled",o.invalid||t.hideValidation())}},directives:[j.n,j.g,j.h,j.a,j.f,j.i,j.j,j.m,j.l,c.j,j.e,j.d],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;padding:0;overflow-x:hidden;letter-spacing:1px}h2[_ngcontent-%COMP%]{letter-spacing:2px}.row[_ngcontent-%COMP%]{height:100%}.profile-container[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.profile-container[_ngcontent-%COMP%]{align-items:center}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative;border:7px double #000}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.details[_ngcontent-%COMP%]{width:70%;margin:20px auto 0}.form-label[_ngcontent-%COMP%]{width:100%}.form-group[_ngcontent-%COMP%]{margin:2px}.form-control[_ngcontent-%COMP%]{padding:5px 5px 5px 10px;font-size:18px;background:#fff;letter-spacing:1px}option[_ngcontent-%COMP%]{text-align:center}.blur-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;background:rgba(0,0,0,.3)}#profilepicuploader[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;background:#f5f5f5;color:#000;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;font-size:25px;opacity:1}.btn-save[_ngcontent-%COMP%]{box-shadow:3px 3px 5px rgba(0,0,0,.2);transition:.1s}.btn-save[_ngcontent-%COMP%]:hover{transform:scale(1.047);box-shadow:2px 2px 6px rgba(0,0,0,.5)}.btn-save[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transition:0s}.password-change-modal[_ngcontent-%COMP%]{position:fixed;z-index:9999;top:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;background:rgba(0,0,0,.5);transition:.5s;display:none}.show-modal[_ngcontent-%COMP%]{display:flex}.password-change-modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:40%;min-height:40%;padding:10px 5px;text-align:center;background:rgba(0,0,0,.7);display:flex;flex-direction:column;justify-content:center;align-items:center;position:relative;transition:.5s}.close-modal[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;font-weight:500;font-size:22px;padding:5px;color:#fff;cursor:pointer}.password-change-modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{width:100%;padding:0 10px}.form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{padding-bottom:5px}.form-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#fff}.form-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{text-align:center;margin:0}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:2px}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.upload-progress-bar[_ngcontent-%COMP%]{width:200px;height:15px;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:999}.progress-bar[_ngcontent-%COMP%]{width:100%;height:15px}@media screen and (max-width:766px){.profile-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.details[_ngcontent-%COMP%]{width:87%;margin:20px 0}.form-control[_ngcontent-%COMP%]{text-align:center}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;align-self:center}textarea[_ngcontent-%COMP%]{text-align:justify;font-family:Times New Roman,Times,serif}.password-change-modal[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:95%}}"]}),nt);function rt(e,t){if(1&e){var n=d.Qb();d.Pb(0,"tr",15),d.Xb("click",(function(){d.mc(n);var e=t.$implicit;return d.bc().goToRoom(e.roomCode,e.type)})),d.Pb(1,"th",16),d.Lb(2,"span",17),d.Ob(),d.Pb(3,"td"),d.Lb(4,"img",18),d.Ob(),d.Pb(5,"td"),d.tc(6),d.Ob(),d.Pb(7,"td"),d.tc(8),d.Ob(),d.Pb(9,"td"),d.tc(10),d.Ob(),d.Pb(11,"td"),d.tc(12),d.Ob(),d.Pb(13,"td",19),d.tc(14),d.Ob(),d.Ob()}if(2&e){var o=t.$implicit;d.zb(4),d.gc("src",o.roomPic,d.nc),d.zb(2),d.uc(o.roomName),d.zb(2),d.uc(o.category),d.zb(2),d.uc(o.type),d.zb(2),d.uc(o.createdBy),d.zb(2),d.uc(o.description)}}var at,st=((at=function(){function e(t,n,o){_classCallCheck(this,e),this.httpc=t,this.router=n,this.ds=o,this.httpURL=u.a.URL,this.unsubscriber$=new b.a,this.no=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.ds.spinnerControl("show"),this.httpc.post(this.httpURL+"get-available-rooms",{all:1,withCode:0}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){1==t.status?(e.room_list=t.data,e.ds.spinnerControl("hide")):(e.room_list=[],e.ds.spinnerControl("hide"),alert("no rooms found"))}),(function(t){e.room_list=[],e.ds.spinnerControl("hide"),alert("some error occured")}))}},{key:"search",value:function(){var e=this;this.httpc.post(this.httpURL+"get-available-rooms",{all:0,withCode:1,roomCode:this.roomCode}).pipe(Object(p.a)(this.unsubscriber$)).subscribe((function(t){1==t.status?(e.room_list=t.data,console.log(e.room_list),e.ds.spinnerControl("hide")):(e.room_list=[],e.ds.spinnerControl("hide"),alert("no rooms found"))}),(function(t){e.room_list=[],e.ds.spinnerControl("hide"),alert("some error occured")}))}},{key:"goToRoom",value:function(e,t){this.ds.spinnerControl("show");var n={};n.roomCode=e,n.roomType=t,n.random="XyzaBc1Kzsxsw3"==e?1:0,this.router.navigate(["/dashboardmodule/message-area"],{queryParams:n}),this.ds.spinnerControl("hide")}},{key:"ngOnDestroy",value:function(){this.unsubscriber$.next(),this.unsubscriber$.complete()}}]),e}()).\u0275fac=function(e){return new(e||at)(d.Kb(m.a),d.Kb(l.e),d.Kb(v.a))},at.\u0275cmp=d.Eb({type:at,selectors:[["app-searchrooms"]],decls:32,vars:2,consts:[[1,"container"],[1,"row"],[1,"col-12","content"],["action","",1,"form"],["searchForm","ngForm"],[1,"form-group"],["for","roomCode",1,"form-label",2,"text-align","center","width","100%","font-size","20px","letter-spacing","2px"],["type","text","name","roomCode","ngModel","","placeholder","enter code here","id","",1,"form-control",3,"ngModel","ngModelChange"],["code","ngModel"],[1,"search-btn","text-center"],[1,"btn","btn-success","px-4","py-2",3,"click"],[1,"table-container","table-responsive"],[1,"table","table-striped","table-dark"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["scope","row"],[1,"status","online"],["alt","",2,"width","30px","height","30px","border-radius","50%",3,"src"],["id","descWidth"]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"form",3,4),d.Pb(5,"div",5),d.Pb(6,"label",6),d.tc(7,"Enter Room Code"),d.Ob(),d.Pb(8,"input",7,8),d.Xb("ngModelChange",(function(e){return t.roomCode=e})),d.Ob(),d.Ob(),d.Pb(10,"div",9),d.Pb(11,"button",10),d.Xb("click",(function(){return t.search()})),d.tc(12,"Search"),d.Ob(),d.Ob(),d.Ob(),d.Pb(13,"div",11),d.Pb(14,"table",12),d.Pb(15,"thead"),d.Pb(16,"tr"),d.Pb(17,"th",13),d.tc(18,"#"),d.Ob(),d.Lb(19,"th",13),d.Pb(20,"th",13),d.tc(21,"Room Name"),d.Ob(),d.Pb(22,"th",13),d.tc(23,"Category"),d.Ob(),d.Pb(24,"th",13),d.tc(25,"type"),d.Ob(),d.Pb(26,"th",13),d.tc(27,"createdBy"),d.Ob(),d.Pb(28,"th",13),d.tc(29,"Description"),d.Ob(),d.Ob(),d.Ob(),d.Pb(30,"tbody"),d.sc(31,rt,15,6,"tr",14),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.zb(8),d.gc("ngModel",t.roomCode),d.zb(23),d.gc("ngForOf",t.room_list))},directives:[j.n,j.g,j.h,j.a,j.f,j.i,c.i],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.container[_ngcontent-%COMP%]{height:100%}.rooms[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly;margin-top:40px}input[_ngcontent-%COMP%]{letter-spacing:1px}.status[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;display:inline-block;box-shadow:inset 0 0 3px 0 rgba(0,0,0,.2);border:1px solid rgba(0,0,0,.15);background:#cacaca;margin:0 3px 0 0}.online[_ngcontent-%COMP%]{background:#b7fb00}.rooms[_ngcontent-%COMP%]   .room-indi[_ngcontent-%COMP%]{width:25%;height:380px;padding:10px 5px;box-shadow:3px 3px 5px rgba(0,0,0,.2);border-radius:5px;margin:15px 0;position:relative;overflow:hidden}.room-indi[_ngcontent-%COMP%]:hover{transform:scale(1.02);transition:.2s;cursor:pointer;box-shadow:4px 4px 8px rgba(0,0,0,.5)}.rooms[_ngcontent-%COMP%]   .room-indi[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff;letter-spacing:1px;padding:5px;text-align:justify;flex-direction:column}.picture-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.picture-box[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;position:relative;left:50%;transform:translateX(-50%);overflow:hidden;margin-bottom:10px}h1[_ngcontent-%COMP%]{margin-top:40px;letter-spacing:2px}form[_ngcontent-%COMP%]{width:50%;margin:20px auto}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto;padding:0}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width:700px){.container[_ngcontent-%COMP%]{display:inline-block;max-width:100vw;min-height:100vh;overflow-y:hidden}.row[_ngcontent-%COMP%]{max-width:100vw;height:100%}form[_ngcontent-%COMP%]{width:80%;margin:40px auto}.rooms[_ngcontent-%COMP%]   .room-indi[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{padding:2px 5px;text-align:unset}.rooms[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.content[_ngcontent-%COMP%]{width:80%;margin:20px 0}.rooms[_ngcontent-%COMP%]   .room-indi[_ngcontent-%COMP%]{width:100%;height:auto;display:flex;flex-direction:row;justify-content:space-evenly;margin-top:5px}.left[_ngcontent-%COMP%]{width:35%}.right[_ngcontent-%COMP%]{width:60%}h1[_ngcontent-%COMP%]{font-size:30px;margin-top:60px!important}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]{width:unset;min-width:100%;white-space:nowrap}#descWidth[_ngcontent-%COMP%]{max-width:900px;overflow:auto}}"]}),at);function ct(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",12),d.Xb("click",(function(){return d.mc(n),d.bc().send_request()})),d.tc(1,"add friend"),d.Ob()}}function lt(e,t){if(1&e){var n=d.Qb();d.Pb(0,"div",13),d.Xb("click",(function(){return d.mc(n),d.bc().removeConnection()})),d.tc(1,"unfriend"),d.Ob()}}var dt,gt,bt,pt,ut=((dt=function(){function e(t,n,o){_classCallCheck(this,e),this.httpc=t,this.ar=n,this.ds=o,this.httpURL=u.a.URL,this.person_name="name",this.person_about="about",this.person_gender="gender",this.proPic_src="../../assets/undraw_ideas_s70l.png",this.uniqueProfileId="",this.isFriend=!1,this.request_sent=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e,t=this,n=document.getElementsByClassName("show-spinner")[0];n.style.display="block",this.ar.queryParamMap.subscribe((function(o){var i;e=o.get("id"),t.friendId=e||o.get("userDbId"),i=null!=e?t.httpURL+"view-profile/"+e+"/false/"+localStorage.getItem("userUniqueId"):t.httpURL+"view-profile/false/"+o.get("userDbId")+"/"+localStorage.getItem("userUniqueId"),t.httpc.get(i).subscribe((function(e){1==e.status?(t.person_name=e.data.FullName,t.person_about=e.data.about,t.person_gender=e.data.gender,t.proPic_src=e.data.proPic_src?t.httpURL+e.data.proPic_src:t.proPic_src,t.uniqueProfileId=e.data._id,t.isFriend=e.data.isFriend,n.style.display="none"):(t.person_name=" No user Found ",t.person_about="",t.person_gender="",n.style.display="none")}),(function(e){t.person_name=" 404 Not Found ",t.person_about="",t.person_gender="",n.style.display="none"}))}))}},{key:"send_request",value:function(){var e=this;this.ds.send_request(this.uniqueProfileId).subscribe((function(t){200==t.status?(e.request_sent=!0,alert("request was sent")):alert("request was not sent")}),(function(e){console.log("error bhai error")}),(function(){console.log("done")}))}},{key:"removeConnection",value:function(){var e=this;this.ds.spinnerControl("show"),this.httpc.delete(this.httpURL+"remove-connection/"+localStorage.getItem("email")+"/"+this.friendId).subscribe((function(t){t.status?(e.isFriend=!1,alert(t.message),e.ds.spinnerControl("hide")):(alert(t.message),e.ds.spinnerControl("hide"))}),(function(t){e.ds.spinnerControl("hide"),alert("some error occured")}))}}]),e}()).\u0275fac=function(e){return new(e||dt)(d.Kb(m.a),d.Kb(l.a),d.Kb(v.a))},dt.\u0275cmp=d.Eb({type:dt,selectors:[["app-view-profile"]],decls:15,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"profile-container"],[1,"profile-pic"],["alt","profile pic of the person",3,"src"],[1,"details"],[1,"name"],["class","btn btn-primary px-2",3,"click",4,"ngIf"],["class","btn btn-danger px-2",3,"click",4,"ngIf"],[1,"about"],[1,"gender"],[1,"btn","btn-primary","px-2",3,"click"],[1,"btn","btn-danger","px-2",3,"click"]],template:function(e,t){1&e&&(d.Pb(0,"div",0),d.Pb(1,"div",1),d.Pb(2,"div",2),d.Pb(3,"div",3),d.Pb(4,"div",4),d.Lb(5,"img",5),d.Ob(),d.Pb(6,"div",6),d.Pb(7,"div",7),d.tc(8),d.sc(9,ct,2,0,"div",8),d.sc(10,lt,2,0,"div",9),d.Ob(),d.Pb(11,"div",10),d.tc(12),d.Ob(),d.Pb(13,"div",11),d.tc(14),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob(),d.Ob()),2&e&&(d.zb(5),d.gc("src",t.proPic_src,d.nc),d.zb(3),d.vc("",t.person_name," "),d.zb(1),d.gc("ngIf",!t.isFriend&&!t.request_sent),d.zb(1),d.gc("ngIf",t.isFriend),d.zb(2),d.uc(t.person_about),d.zb(2),d.uc(t.person_gender))},directives:[c.j],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;padding:0;overflow-x:hidden;font-size:20px}.container[_ngcontent-%COMP%]{height:100%}.row[_ngcontent-%COMP%]{height:100%;position:relative}.profile-container[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.profile-container[_ngcontent-%COMP%]{align-items:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.profile-pic[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;position:relative}.profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.about[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .gender[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:bolder;font-size:1.5em;letter-spacing:1px;text-transform:capitalize}.details[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{font-size:1.1em;letter-spacing:2px}.details[_ngcontent-%COMP%]   .gender[_ngcontent-%COMP%]{font-size:1.2em;letter-spacing:2px}.add-friend-button[_ngcontent-%COMP%]{font-size:16px;color:#00f;cursor:pointer;margin-left:5px;display:inline-block;list-style-type:none}@media screen and (max-width:700px){*[_ngcontent-%COMP%]{font-size:15px}.container[_ngcontent-%COMP%]{display:inline-block;height:100vh;width:140vw;margin:0 auto!important}.row[_ngcontent-%COMP%]{width:100vw;margin:0}}@media screen and (max-width:660px){.container[_ngcontent-%COMP%]{display:inline-block;width:100vw;height:100vh}.row[_ngcontent-%COMP%]{width:100%;margin:0}.profile-container[_ngcontent-%COMP%]{width:90%}}"]}),dt),mt=[{path:"",component:(gt=function(){function e(t){_classCallCheck(this,e),this.ss=t}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),gt.\u0275fac=function(e){return new(e||gt)(d.Kb(x.a))},gt.\u0275cmp=d.Eb({type:gt,selectors:[["app-dashboardmodule"]],decls:1,vars:0,template:function(e,t){1&e&&d.Lb(0,"router-outlet")},directives:[l.h],styles:[""]}),gt),children:[{path:"",component:M,canActivate:[g],children:[{path:"",component:it},{path:"profile",component:it},{path:"chat",component:h},{path:"message-area",component:Ie},{path:"private-chat",component:Ze},{path:"view-profile",component:ut},{path:"create-room",component:F},{path:"search-room",component:st},{path:"manage-requests",component:I},{path:"manage-connections",component:Y},{path:"friend-circle",component:Y}]}]}],ht=((pt=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ib({type:pt}),pt.\u0275inj=d.Hb({factory:function(e){return new(e||pt)},imports:[[l.g.forChild(mt)],l.g]}),pt),ft=((bt=function e(){_classCallCheck(this,e)}).\u0275mod=d.Ib({type:bt}),bt.\u0275inj=d.Hb({factory:function(e){return new(e||bt)},imports:[[c.b,ht]]}),bt)}}]);